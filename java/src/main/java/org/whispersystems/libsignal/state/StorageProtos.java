// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: LocalStorageProtocol.proto

package org.whispersystems.libsignal.state;

public final class StorageProtos {
  private StorageProtos() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistryLite registry) {
  }
  public interface SessionStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    boolean hasSessionVersion();
    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    int getSessionVersion();

    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    boolean hasLocalIdentityPublic();
    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    com.google.protobuf.ByteString getLocalIdentityPublic();

    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    boolean hasRemoteIdentityPublic();
    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    com.google.protobuf.ByteString getRemoteIdentityPublic();

    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    boolean hasRootKey();
    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    com.google.protobuf.ByteString getRootKey();

    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    boolean hasPreviousCounter();
    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    int getPreviousCounter();

    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    boolean hasSenderChain();
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getSenderChain();

    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> 
        getReceiverChainsList();
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getReceiverChains(int index);
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    int getReceiverChainsCount();

    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    boolean hasPendingKeyExchange();
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange getPendingKeyExchange();

    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    boolean hasPendingPreKey();
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey getPendingPreKey();

    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    boolean hasRemoteRegistrationId();
    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    int getRemoteRegistrationId();

    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    boolean hasLocalRegistrationId();
    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    int getLocalRegistrationId();

    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    boolean hasNeedsRefresh();
    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    boolean getNeedsRefresh();

    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    boolean hasAliceBaseKey();
    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    com.google.protobuf.ByteString getAliceBaseKey();
  }
  /**
   * Protobuf type {@code textsecure.SessionStructure}
   */
  public  static final class SessionStructure extends
      com.google.protobuf.GeneratedMessageLite<
          SessionStructure, SessionStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.SessionStructure)
      SessionStructureOrBuilder {
    private SessionStructure() {
      localIdentityPublic_ = com.google.protobuf.ByteString.EMPTY;
      remoteIdentityPublic_ = com.google.protobuf.ByteString.EMPTY;
      rootKey_ = com.google.protobuf.ByteString.EMPTY;
      receiverChains_ = emptyProtobufList();
      aliceBaseKey_ = com.google.protobuf.ByteString.EMPTY;
    }
    public interface ChainOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure.Chain)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      boolean hasSenderRatchetKey();
      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      com.google.protobuf.ByteString getSenderRatchetKey();

      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      boolean hasSenderRatchetKeyPrivate();
      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      com.google.protobuf.ByteString getSenderRatchetKeyPrivate();

      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      boolean hasChainKey();
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey getChainKey();

      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> 
          getMessageKeysList();
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey getMessageKeys(int index);
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      int getMessageKeysCount();
    }
    /**
     * Protobuf type {@code textsecure.SessionStructure.Chain}
     */
    public  static final class Chain extends
        com.google.protobuf.GeneratedMessageLite<
            Chain, Chain.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SessionStructure.Chain)
        ChainOrBuilder {
      private Chain() {
        senderRatchetKey_ = com.google.protobuf.ByteString.EMPTY;
        senderRatchetKeyPrivate_ = com.google.protobuf.ByteString.EMPTY;
        messageKeys_ = emptyProtobufList();
      }
      public interface ChainKeyOrBuilder extends
          // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure.Chain.ChainKey)
          com.google.protobuf.MessageLiteOrBuilder {

        /**
         * <code>optional uint32 index = 1;</code>
         */
        boolean hasIndex();
        /**
         * <code>optional uint32 index = 1;</code>
         */
        int getIndex();

        /**
         * <code>optional bytes key = 2;</code>
         */
        boolean hasKey();
        /**
         * <code>optional bytes key = 2;</code>
         */
        com.google.protobuf.ByteString getKey();
      }
      /**
       * Protobuf type {@code textsecure.SessionStructure.Chain.ChainKey}
       */
      public  static final class ChainKey extends
          com.google.protobuf.GeneratedMessageLite<
              ChainKey, ChainKey.Builder> implements
          // @@protoc_insertion_point(message_implements:textsecure.SessionStructure.Chain.ChainKey)
          ChainKeyOrBuilder {
        private ChainKey() {
          key_ = com.google.protobuf.ByteString.EMPTY;
        }
        private int bitField0_;
        public static final int INDEX_FIELD_NUMBER = 1;
        private int index_;
        /**
         * <code>optional uint32 index = 1;</code>
         */
        public boolean hasIndex() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        public int getIndex() {
          return index_;
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        private void setIndex(int value) {
          bitField0_ |= 0x00000001;
          index_ = value;
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        private void clearIndex() {
          bitField0_ = (bitField0_ & ~0x00000001);
          index_ = 0;
        }

        public static final int KEY_FIELD_NUMBER = 2;
        private com.google.protobuf.ByteString key_;
        /**
         * <code>optional bytes key = 2;</code>
         */
        public boolean hasKey() {
          return ((bitField0_ & 0x00000002) == 0x00000002);
        }
        /**
         * <code>optional bytes key = 2;</code>
         */
        public com.google.protobuf.ByteString getKey() {
          return key_;
        }
        /**
         * <code>optional bytes key = 2;</code>
         */
        private void setKey(com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
          key_ = value;
        }
        /**
         * <code>optional bytes key = 2;</code>
         */
        private void clearKey() {
          bitField0_ = (bitField0_ & ~0x00000002);
          key_ = getDefaultInstance().getKey();
        }

        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            output.writeUInt32(1, index_);
          }
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            output.writeBytes(2, key_);
          }
          unknownFields.writeTo(output);
        }

        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;

          size = 0;
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            size += com.google.protobuf.CodedOutputStream
              .computeUInt32Size(1, index_);
          }
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            size += com.google.protobuf.CodedOutputStream
              .computeBytesSize(2, key_);
          }
          size += unknownFields.getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }

        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          return parseDelimitedFrom(DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input, extensionRegistry);
        }

        public static Builder newBuilder() {
          return DEFAULT_INSTANCE.toBuilder();
        }
        public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey prototype) {
          return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
        }

        /**
         * Protobuf type {@code textsecure.SessionStructure.Chain.ChainKey}
         */
        public static final class Builder extends
            com.google.protobuf.GeneratedMessageLite.Builder<
              org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey, Builder> implements
            // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure.Chain.ChainKey)
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKeyOrBuilder {
          // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.newBuilder()
          private Builder() {
            super(DEFAULT_INSTANCE);
          }


          /**
           * <code>optional uint32 index = 1;</code>
           */
          public boolean hasIndex() {
            return instance.hasIndex();
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public int getIndex() {
            return instance.getIndex();
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public Builder setIndex(int value) {
            copyOnWrite();
            instance.setIndex(value);
            return this;
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public Builder clearIndex() {
            copyOnWrite();
            instance.clearIndex();
            return this;
          }

          /**
           * <code>optional bytes key = 2;</code>
           */
          public boolean hasKey() {
            return instance.hasKey();
          }
          /**
           * <code>optional bytes key = 2;</code>
           */
          public com.google.protobuf.ByteString getKey() {
            return instance.getKey();
          }
          /**
           * <code>optional bytes key = 2;</code>
           */
          public Builder setKey(com.google.protobuf.ByteString value) {
            copyOnWrite();
            instance.setKey(value);
            return this;
          }
          /**
           * <code>optional bytes key = 2;</code>
           */
          public Builder clearKey() {
            copyOnWrite();
            instance.clearKey();
            return this;
          }

          // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure.Chain.ChainKey)
        }
        protected final Object dynamicMethod(
            com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
            Object arg0, Object arg1) {
          switch (method) {
            case NEW_MUTABLE_INSTANCE: {
              return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey();
            }
            case IS_INITIALIZED: {
              return DEFAULT_INSTANCE;
            }
            case MAKE_IMMUTABLE: {
              return null;
            }
            case NEW_BUILDER: {
              return new Builder();
            }
            case VISIT: {
              Visitor visitor = (Visitor) arg0;
              org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey) arg1;
              index_ = visitor.visitInt(
                  hasIndex(), index_,
                  other.hasIndex(), other.index_);
              key_ = visitor.visitByteString(
                  hasKey(), key_,
                  other.hasKey(), other.key_);
              if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                  .INSTANCE) {
                bitField0_ |= other.bitField0_;
              }
              return this;
            }
            case MERGE_FROM_STREAM: {
              com.google.protobuf.CodedInputStream input =
                  (com.google.protobuf.CodedInputStream) arg0;
              com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                  (com.google.protobuf.ExtensionRegistryLite) arg1;
              try {
                boolean done = false;
                while (!done) {
                  int tag = input.readTag();
                  switch (tag) {
                    case 0:
                      done = true;
                      break;
                    default: {
                      if (!parseUnknownField(tag, input)) {
                        done = true;
                      }
                      break;
                    }
                    case 8: {
                      bitField0_ |= 0x00000001;
                      index_ = input.readUInt32();
                      break;
                    }
                    case 18: {
                      bitField0_ |= 0x00000002;
                      key_ = input.readBytes();
                      break;
                    }
                  }
                }
              } catch (com.google.protobuf.InvalidProtocolBufferException e) {
                throw new RuntimeException(e.setUnfinishedMessage(this));
              } catch (java.io.IOException e) {
                throw new RuntimeException(
                    new com.google.protobuf.InvalidProtocolBufferException(
                        e.getMessage()).setUnfinishedMessage(this));
              } finally {
              }
            }
            case GET_DEFAULT_INSTANCE: {
              return DEFAULT_INSTANCE;
            }
            case GET_PARSER: {
              if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.class) {
                  if (PARSER == null) {
                    PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                  }
                }
              }
              return PARSER;
            }
          }
          throw new UnsupportedOperationException();
        }


        // @@protoc_insertion_point(class_scope:textsecure.SessionStructure.Chain.ChainKey)
        private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey DEFAULT_INSTANCE;
        static {
          DEFAULT_INSTANCE = new ChainKey();
          DEFAULT_INSTANCE.makeImmutable();
        }

        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey getDefaultInstance() {
          return DEFAULT_INSTANCE;
        }

        private static volatile com.google.protobuf.Parser<ChainKey> PARSER;

        public static com.google.protobuf.Parser<ChainKey> parser() {
          return DEFAULT_INSTANCE.getParserForType();
        }
      }

      public interface MessageKeyOrBuilder extends
          // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure.Chain.MessageKey)
          com.google.protobuf.MessageLiteOrBuilder {

        /**
         * <code>optional uint32 index = 1;</code>
         */
        boolean hasIndex();
        /**
         * <code>optional uint32 index = 1;</code>
         */
        int getIndex();

        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        boolean hasCipherKey();
        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        com.google.protobuf.ByteString getCipherKey();

        /**
         * <code>optional bytes macKey = 3;</code>
         */
        boolean hasMacKey();
        /**
         * <code>optional bytes macKey = 3;</code>
         */
        com.google.protobuf.ByteString getMacKey();

        /**
         * <code>optional bytes iv = 4;</code>
         */
        boolean hasIv();
        /**
         * <code>optional bytes iv = 4;</code>
         */
        com.google.protobuf.ByteString getIv();
      }
      /**
       * Protobuf type {@code textsecure.SessionStructure.Chain.MessageKey}
       */
      public  static final class MessageKey extends
          com.google.protobuf.GeneratedMessageLite<
              MessageKey, MessageKey.Builder> implements
          // @@protoc_insertion_point(message_implements:textsecure.SessionStructure.Chain.MessageKey)
          MessageKeyOrBuilder {
        private MessageKey() {
          cipherKey_ = com.google.protobuf.ByteString.EMPTY;
          macKey_ = com.google.protobuf.ByteString.EMPTY;
          iv_ = com.google.protobuf.ByteString.EMPTY;
        }
        private int bitField0_;
        public static final int INDEX_FIELD_NUMBER = 1;
        private int index_;
        /**
         * <code>optional uint32 index = 1;</code>
         */
        public boolean hasIndex() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        public int getIndex() {
          return index_;
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        private void setIndex(int value) {
          bitField0_ |= 0x00000001;
          index_ = value;
        }
        /**
         * <code>optional uint32 index = 1;</code>
         */
        private void clearIndex() {
          bitField0_ = (bitField0_ & ~0x00000001);
          index_ = 0;
        }

        public static final int CIPHERKEY_FIELD_NUMBER = 2;
        private com.google.protobuf.ByteString cipherKey_;
        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        public boolean hasCipherKey() {
          return ((bitField0_ & 0x00000002) == 0x00000002);
        }
        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        public com.google.protobuf.ByteString getCipherKey() {
          return cipherKey_;
        }
        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        private void setCipherKey(com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
          cipherKey_ = value;
        }
        /**
         * <code>optional bytes cipherKey = 2;</code>
         */
        private void clearCipherKey() {
          bitField0_ = (bitField0_ & ~0x00000002);
          cipherKey_ = getDefaultInstance().getCipherKey();
        }

        public static final int MACKEY_FIELD_NUMBER = 3;
        private com.google.protobuf.ByteString macKey_;
        /**
         * <code>optional bytes macKey = 3;</code>
         */
        public boolean hasMacKey() {
          return ((bitField0_ & 0x00000004) == 0x00000004);
        }
        /**
         * <code>optional bytes macKey = 3;</code>
         */
        public com.google.protobuf.ByteString getMacKey() {
          return macKey_;
        }
        /**
         * <code>optional bytes macKey = 3;</code>
         */
        private void setMacKey(com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
          macKey_ = value;
        }
        /**
         * <code>optional bytes macKey = 3;</code>
         */
        private void clearMacKey() {
          bitField0_ = (bitField0_ & ~0x00000004);
          macKey_ = getDefaultInstance().getMacKey();
        }

        public static final int IV_FIELD_NUMBER = 4;
        private com.google.protobuf.ByteString iv_;
        /**
         * <code>optional bytes iv = 4;</code>
         */
        public boolean hasIv() {
          return ((bitField0_ & 0x00000008) == 0x00000008);
        }
        /**
         * <code>optional bytes iv = 4;</code>
         */
        public com.google.protobuf.ByteString getIv() {
          return iv_;
        }
        /**
         * <code>optional bytes iv = 4;</code>
         */
        private void setIv(com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000008;
          iv_ = value;
        }
        /**
         * <code>optional bytes iv = 4;</code>
         */
        private void clearIv() {
          bitField0_ = (bitField0_ & ~0x00000008);
          iv_ = getDefaultInstance().getIv();
        }

        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            output.writeUInt32(1, index_);
          }
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            output.writeBytes(2, cipherKey_);
          }
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            output.writeBytes(3, macKey_);
          }
          if (((bitField0_ & 0x00000008) == 0x00000008)) {
            output.writeBytes(4, iv_);
          }
          unknownFields.writeTo(output);
        }

        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;

          size = 0;
          if (((bitField0_ & 0x00000001) == 0x00000001)) {
            size += com.google.protobuf.CodedOutputStream
              .computeUInt32Size(1, index_);
          }
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            size += com.google.protobuf.CodedOutputStream
              .computeBytesSize(2, cipherKey_);
          }
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            size += com.google.protobuf.CodedOutputStream
              .computeBytesSize(3, macKey_);
          }
          if (((bitField0_ & 0x00000008) == 0x00000008)) {
            size += com.google.protobuf.CodedOutputStream
              .computeBytesSize(4, iv_);
          }
          size += unknownFields.getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }

        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, data, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          return parseDelimitedFrom(DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input);
        }
        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return com.google.protobuf.GeneratedMessageLite.parseFrom(
              DEFAULT_INSTANCE, input, extensionRegistry);
        }

        public static Builder newBuilder() {
          return DEFAULT_INSTANCE.toBuilder();
        }
        public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey prototype) {
          return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
        }

        /**
         * Protobuf type {@code textsecure.SessionStructure.Chain.MessageKey}
         */
        public static final class Builder extends
            com.google.protobuf.GeneratedMessageLite.Builder<
              org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey, Builder> implements
            // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure.Chain.MessageKey)
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKeyOrBuilder {
          // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.newBuilder()
          private Builder() {
            super(DEFAULT_INSTANCE);
          }


          /**
           * <code>optional uint32 index = 1;</code>
           */
          public boolean hasIndex() {
            return instance.hasIndex();
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public int getIndex() {
            return instance.getIndex();
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public Builder setIndex(int value) {
            copyOnWrite();
            instance.setIndex(value);
            return this;
          }
          /**
           * <code>optional uint32 index = 1;</code>
           */
          public Builder clearIndex() {
            copyOnWrite();
            instance.clearIndex();
            return this;
          }

          /**
           * <code>optional bytes cipherKey = 2;</code>
           */
          public boolean hasCipherKey() {
            return instance.hasCipherKey();
          }
          /**
           * <code>optional bytes cipherKey = 2;</code>
           */
          public com.google.protobuf.ByteString getCipherKey() {
            return instance.getCipherKey();
          }
          /**
           * <code>optional bytes cipherKey = 2;</code>
           */
          public Builder setCipherKey(com.google.protobuf.ByteString value) {
            copyOnWrite();
            instance.setCipherKey(value);
            return this;
          }
          /**
           * <code>optional bytes cipherKey = 2;</code>
           */
          public Builder clearCipherKey() {
            copyOnWrite();
            instance.clearCipherKey();
            return this;
          }

          /**
           * <code>optional bytes macKey = 3;</code>
           */
          public boolean hasMacKey() {
            return instance.hasMacKey();
          }
          /**
           * <code>optional bytes macKey = 3;</code>
           */
          public com.google.protobuf.ByteString getMacKey() {
            return instance.getMacKey();
          }
          /**
           * <code>optional bytes macKey = 3;</code>
           */
          public Builder setMacKey(com.google.protobuf.ByteString value) {
            copyOnWrite();
            instance.setMacKey(value);
            return this;
          }
          /**
           * <code>optional bytes macKey = 3;</code>
           */
          public Builder clearMacKey() {
            copyOnWrite();
            instance.clearMacKey();
            return this;
          }

          /**
           * <code>optional bytes iv = 4;</code>
           */
          public boolean hasIv() {
            return instance.hasIv();
          }
          /**
           * <code>optional bytes iv = 4;</code>
           */
          public com.google.protobuf.ByteString getIv() {
            return instance.getIv();
          }
          /**
           * <code>optional bytes iv = 4;</code>
           */
          public Builder setIv(com.google.protobuf.ByteString value) {
            copyOnWrite();
            instance.setIv(value);
            return this;
          }
          /**
           * <code>optional bytes iv = 4;</code>
           */
          public Builder clearIv() {
            copyOnWrite();
            instance.clearIv();
            return this;
          }

          // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure.Chain.MessageKey)
        }
        protected final Object dynamicMethod(
            com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
            Object arg0, Object arg1) {
          switch (method) {
            case NEW_MUTABLE_INSTANCE: {
              return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey();
            }
            case IS_INITIALIZED: {
              return DEFAULT_INSTANCE;
            }
            case MAKE_IMMUTABLE: {
              return null;
            }
            case NEW_BUILDER: {
              return new Builder();
            }
            case VISIT: {
              Visitor visitor = (Visitor) arg0;
              org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey) arg1;
              index_ = visitor.visitInt(
                  hasIndex(), index_,
                  other.hasIndex(), other.index_);
              cipherKey_ = visitor.visitByteString(
                  hasCipherKey(), cipherKey_,
                  other.hasCipherKey(), other.cipherKey_);
              macKey_ = visitor.visitByteString(
                  hasMacKey(), macKey_,
                  other.hasMacKey(), other.macKey_);
              iv_ = visitor.visitByteString(
                  hasIv(), iv_,
                  other.hasIv(), other.iv_);
              if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                  .INSTANCE) {
                bitField0_ |= other.bitField0_;
              }
              return this;
            }
            case MERGE_FROM_STREAM: {
              com.google.protobuf.CodedInputStream input =
                  (com.google.protobuf.CodedInputStream) arg0;
              com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                  (com.google.protobuf.ExtensionRegistryLite) arg1;
              try {
                boolean done = false;
                while (!done) {
                  int tag = input.readTag();
                  switch (tag) {
                    case 0:
                      done = true;
                      break;
                    default: {
                      if (!parseUnknownField(tag, input)) {
                        done = true;
                      }
                      break;
                    }
                    case 8: {
                      bitField0_ |= 0x00000001;
                      index_ = input.readUInt32();
                      break;
                    }
                    case 18: {
                      bitField0_ |= 0x00000002;
                      cipherKey_ = input.readBytes();
                      break;
                    }
                    case 26: {
                      bitField0_ |= 0x00000004;
                      macKey_ = input.readBytes();
                      break;
                    }
                    case 34: {
                      bitField0_ |= 0x00000008;
                      iv_ = input.readBytes();
                      break;
                    }
                  }
                }
              } catch (com.google.protobuf.InvalidProtocolBufferException e) {
                throw new RuntimeException(e.setUnfinishedMessage(this));
              } catch (java.io.IOException e) {
                throw new RuntimeException(
                    new com.google.protobuf.InvalidProtocolBufferException(
                        e.getMessage()).setUnfinishedMessage(this));
              } finally {
              }
            }
            case GET_DEFAULT_INSTANCE: {
              return DEFAULT_INSTANCE;
            }
            case GET_PARSER: {
              if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.class) {
                  if (PARSER == null) {
                    PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                  }
                }
              }
              return PARSER;
            }
          }
          throw new UnsupportedOperationException();
        }


        // @@protoc_insertion_point(class_scope:textsecure.SessionStructure.Chain.MessageKey)
        private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey DEFAULT_INSTANCE;
        static {
          DEFAULT_INSTANCE = new MessageKey();
          DEFAULT_INSTANCE.makeImmutable();
        }

        public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey getDefaultInstance() {
          return DEFAULT_INSTANCE;
        }

        private static volatile com.google.protobuf.Parser<MessageKey> PARSER;

        public static com.google.protobuf.Parser<MessageKey> parser() {
          return DEFAULT_INSTANCE.getParserForType();
        }
      }

      private int bitField0_;
      public static final int SENDERRATCHETKEY_FIELD_NUMBER = 1;
      private com.google.protobuf.ByteString senderRatchetKey_;
      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      public boolean hasSenderRatchetKey() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      public com.google.protobuf.ByteString getSenderRatchetKey() {
        return senderRatchetKey_;
      }
      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      private void setSenderRatchetKey(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        senderRatchetKey_ = value;
      }
      /**
       * <code>optional bytes senderRatchetKey = 1;</code>
       */
      private void clearSenderRatchetKey() {
        bitField0_ = (bitField0_ & ~0x00000001);
        senderRatchetKey_ = getDefaultInstance().getSenderRatchetKey();
      }

      public static final int SENDERRATCHETKEYPRIVATE_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString senderRatchetKeyPrivate_;
      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      public boolean hasSenderRatchetKeyPrivate() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      public com.google.protobuf.ByteString getSenderRatchetKeyPrivate() {
        return senderRatchetKeyPrivate_;
      }
      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      private void setSenderRatchetKeyPrivate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        senderRatchetKeyPrivate_ = value;
      }
      /**
       * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
       */
      private void clearSenderRatchetKeyPrivate() {
        bitField0_ = (bitField0_ & ~0x00000002);
        senderRatchetKeyPrivate_ = getDefaultInstance().getSenderRatchetKeyPrivate();
      }

      public static final int CHAINKEY_FIELD_NUMBER = 3;
      private org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey chainKey_;
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      public boolean hasChainKey() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey getChainKey() {
        return chainKey_ == null ? org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.getDefaultInstance() : chainKey_;
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      private void setChainKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey value) {
        if (value == null) {
          throw new NullPointerException();
        }
        chainKey_ = value;
        bitField0_ |= 0x00000004;
        }
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      private void setChainKey(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.Builder builderForValue) {
        chainKey_ = builderForValue.build();
        bitField0_ |= 0x00000004;
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      private void mergeChainKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey value) {
        if (chainKey_ != null &&
            chainKey_ != org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.getDefaultInstance()) {
          chainKey_ =
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.newBuilder(chainKey_).mergeFrom(value).buildPartial();
        } else {
          chainKey_ = value;
        }
        bitField0_ |= 0x00000004;
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
       */
      private void clearChainKey() {  chainKey_ = null;
        bitField0_ = (bitField0_ & ~0x00000004);
      }

      public static final int MESSAGEKEYS_FIELD_NUMBER = 4;
      private com.google.protobuf.Internal.ProtobufList<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> messageKeys_;
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> getMessageKeysList() {
        return messageKeys_;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      public java.util.List<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKeyOrBuilder> 
          getMessageKeysOrBuilderList() {
        return messageKeys_;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      public int getMessageKeysCount() {
        return messageKeys_.size();
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey getMessageKeys(int index) {
        return messageKeys_.get(index);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKeyOrBuilder getMessageKeysOrBuilder(
          int index) {
        return messageKeys_.get(index);
      }
      private void ensureMessageKeysIsMutable() {
        if (!messageKeys_.isModifiable()) {
          messageKeys_ =
              com.google.protobuf.GeneratedMessageLite.mutableCopy(messageKeys_);
         }
      }

      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void setMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
        if (value == null) {
          throw new NullPointerException();
        }
        ensureMessageKeysIsMutable();
        messageKeys_.set(index, value);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void setMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
        ensureMessageKeysIsMutable();
        messageKeys_.set(index, builderForValue.build());
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void addMessageKeys(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
        if (value == null) {
          throw new NullPointerException();
        }
        ensureMessageKeysIsMutable();
        messageKeys_.add(value);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void addMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
        if (value == null) {
          throw new NullPointerException();
        }
        ensureMessageKeysIsMutable();
        messageKeys_.add(index, value);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void addMessageKeys(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
        ensureMessageKeysIsMutable();
        messageKeys_.add(builderForValue.build());
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void addMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
        ensureMessageKeysIsMutable();
        messageKeys_.add(index, builderForValue.build());
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void addAllMessageKeys(
          java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> values) {
        ensureMessageKeysIsMutable();
        com.google.protobuf.AbstractMessageLite.addAll(
            values, messageKeys_);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void clearMessageKeys() {
        messageKeys_ = emptyProtobufList();
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
       */
      private void removeMessageKeys(int index) {
        ensureMessageKeysIsMutable();
        messageKeys_.remove(index);
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeBytes(1, senderRatchetKey_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeBytes(2, senderRatchetKeyPrivate_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeMessage(3, getChainKey());
        }
        for (int i = 0; i < messageKeys_.size(); i++) {
          output.writeMessage(4, messageKeys_.get(i));
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(1, senderRatchetKey_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, senderRatchetKeyPrivate_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getChainKey());
        }
        for (int i = 0; i < messageKeys_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, messageKeys_.get(i));
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SessionStructure.Chain}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure.Chain)
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.ChainOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional bytes senderRatchetKey = 1;</code>
         */
        public boolean hasSenderRatchetKey() {
          return instance.hasSenderRatchetKey();
        }
        /**
         * <code>optional bytes senderRatchetKey = 1;</code>
         */
        public com.google.protobuf.ByteString getSenderRatchetKey() {
          return instance.getSenderRatchetKey();
        }
        /**
         * <code>optional bytes senderRatchetKey = 1;</code>
         */
        public Builder setSenderRatchetKey(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setSenderRatchetKey(value);
          return this;
        }
        /**
         * <code>optional bytes senderRatchetKey = 1;</code>
         */
        public Builder clearSenderRatchetKey() {
          copyOnWrite();
          instance.clearSenderRatchetKey();
          return this;
        }

        /**
         * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
         */
        public boolean hasSenderRatchetKeyPrivate() {
          return instance.hasSenderRatchetKeyPrivate();
        }
        /**
         * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
         */
        public com.google.protobuf.ByteString getSenderRatchetKeyPrivate() {
          return instance.getSenderRatchetKeyPrivate();
        }
        /**
         * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
         */
        public Builder setSenderRatchetKeyPrivate(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setSenderRatchetKeyPrivate(value);
          return this;
        }
        /**
         * <code>optional bytes senderRatchetKeyPrivate = 2;</code>
         */
        public Builder clearSenderRatchetKeyPrivate() {
          copyOnWrite();
          instance.clearSenderRatchetKeyPrivate();
          return this;
        }

        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public boolean hasChainKey() {
          return instance.hasChainKey();
        }
        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey getChainKey() {
          return instance.getChainKey();
        }
        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public Builder setChainKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey value) {
          copyOnWrite();
          instance.setChainKey(value);
          return this;
          }
        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public Builder setChainKey(
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.Builder builderForValue) {
          copyOnWrite();
          instance.setChainKey(builderForValue);
          return this;
        }
        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public Builder mergeChainKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey value) {
          copyOnWrite();
          instance.mergeChainKey(value);
          return this;
        }
        /**
         * <code>optional .textsecure.SessionStructure.Chain.ChainKey chainKey = 3;</code>
         */
        public Builder clearChainKey() {  copyOnWrite();
          instance.clearChainKey();
          return this;
        }

        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> getMessageKeysList() {
          return java.util.Collections.unmodifiableList(
              instance.getMessageKeysList());
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public int getMessageKeysCount() {
          return instance.getMessageKeysCount();
        }/**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey getMessageKeys(int index) {
          return instance.getMessageKeys(index);
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder setMessageKeys(
            int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
          copyOnWrite();
          instance.setMessageKeys(index, value);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder setMessageKeys(
            int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
          copyOnWrite();
          instance.setMessageKeys(index, builderForValue);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder addMessageKeys(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
          copyOnWrite();
          instance.addMessageKeys(value);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder addMessageKeys(
            int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey value) {
          copyOnWrite();
          instance.addMessageKeys(index, value);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder addMessageKeys(
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
          copyOnWrite();
          instance.addMessageKeys(builderForValue);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder addMessageKeys(
            int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.Builder builderForValue) {
          copyOnWrite();
          instance.addMessageKeys(index, builderForValue);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder addAllMessageKeys(
            java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey> values) {
          copyOnWrite();
          instance.addAllMessageKeys(values);
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder clearMessageKeys() {
          copyOnWrite();
          instance.clearMessageKeys();
          return this;
        }
        /**
         * <code>repeated .textsecure.SessionStructure.Chain.MessageKey messageKeys = 4;</code>
         */
        public Builder removeMessageKeys(int index) {
          copyOnWrite();
          instance.removeMessageKeys(index);
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure.Chain)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            messageKeys_.makeImmutable();
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain) arg1;
            senderRatchetKey_ = visitor.visitByteString(
                hasSenderRatchetKey(), senderRatchetKey_,
                other.hasSenderRatchetKey(), other.senderRatchetKey_);
            senderRatchetKeyPrivate_ = visitor.visitByteString(
                hasSenderRatchetKeyPrivate(), senderRatchetKeyPrivate_,
                other.hasSenderRatchetKeyPrivate(), other.senderRatchetKeyPrivate_);
            chainKey_ = visitor.visitMessage(chainKey_, other.chainKey_);
            messageKeys_= visitor.visitList(messageKeys_, other.messageKeys_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 10: {
                    bitField0_ |= 0x00000001;
                    senderRatchetKey_ = input.readBytes();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000002;
                    senderRatchetKeyPrivate_ = input.readBytes();
                    break;
                  }
                  case 26: {
                    org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.Builder subBuilder = null;
                    if (((bitField0_ & 0x00000004) == 0x00000004)) {
                      subBuilder = chainKey_.toBuilder();
                    }
                    chainKey_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.ChainKey.parser(), extensionRegistry);
                    if (subBuilder != null) {
                      subBuilder.mergeFrom(chainKey_);
                      chainKey_ = subBuilder.buildPartial();
                    }
                    bitField0_ |= 0x00000004;
                    break;
                  }
                  case 34: {
                    if (!messageKeys_.isModifiable()) {
                      messageKeys_ =
                          com.google.protobuf.GeneratedMessageLite.mutableCopy(messageKeys_);
                    }
                    messageKeys_.add(
                        input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.MessageKey.parser(), extensionRegistry));
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SessionStructure.Chain)
      private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new Chain();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<Chain> PARSER;

      public static com.google.protobuf.Parser<Chain> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    public interface PendingKeyExchangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure.PendingKeyExchange)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      boolean hasSequence();
      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      int getSequence();

      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      boolean hasLocalBaseKey();
      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      com.google.protobuf.ByteString getLocalBaseKey();

      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      boolean hasLocalBaseKeyPrivate();
      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      com.google.protobuf.ByteString getLocalBaseKeyPrivate();

      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      boolean hasLocalRatchetKey();
      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      com.google.protobuf.ByteString getLocalRatchetKey();

      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      boolean hasLocalRatchetKeyPrivate();
      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      com.google.protobuf.ByteString getLocalRatchetKeyPrivate();

      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      boolean hasLocalIdentityKey();
      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      com.google.protobuf.ByteString getLocalIdentityKey();

      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      boolean hasLocalIdentityKeyPrivate();
      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      com.google.protobuf.ByteString getLocalIdentityKeyPrivate();
    }
    /**
     * Protobuf type {@code textsecure.SessionStructure.PendingKeyExchange}
     */
    public  static final class PendingKeyExchange extends
        com.google.protobuf.GeneratedMessageLite<
            PendingKeyExchange, PendingKeyExchange.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SessionStructure.PendingKeyExchange)
        PendingKeyExchangeOrBuilder {
      private PendingKeyExchange() {
        localBaseKey_ = com.google.protobuf.ByteString.EMPTY;
        localBaseKeyPrivate_ = com.google.protobuf.ByteString.EMPTY;
        localRatchetKey_ = com.google.protobuf.ByteString.EMPTY;
        localRatchetKeyPrivate_ = com.google.protobuf.ByteString.EMPTY;
        localIdentityKey_ = com.google.protobuf.ByteString.EMPTY;
        localIdentityKeyPrivate_ = com.google.protobuf.ByteString.EMPTY;
      }
      private int bitField0_;
      public static final int SEQUENCE_FIELD_NUMBER = 1;
      private int sequence_;
      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      public boolean hasSequence() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      public int getSequence() {
        return sequence_;
      }
      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      private void setSequence(int value) {
        bitField0_ |= 0x00000001;
        sequence_ = value;
      }
      /**
       * <code>optional uint32 sequence = 1;</code>
       */
      private void clearSequence() {
        bitField0_ = (bitField0_ & ~0x00000001);
        sequence_ = 0;
      }

      public static final int LOCALBASEKEY_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString localBaseKey_;
      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      public boolean hasLocalBaseKey() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      public com.google.protobuf.ByteString getLocalBaseKey() {
        return localBaseKey_;
      }
      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      private void setLocalBaseKey(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        localBaseKey_ = value;
      }
      /**
       * <code>optional bytes localBaseKey = 2;</code>
       */
      private void clearLocalBaseKey() {
        bitField0_ = (bitField0_ & ~0x00000002);
        localBaseKey_ = getDefaultInstance().getLocalBaseKey();
      }

      public static final int LOCALBASEKEYPRIVATE_FIELD_NUMBER = 3;
      private com.google.protobuf.ByteString localBaseKeyPrivate_;
      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      public boolean hasLocalBaseKeyPrivate() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      public com.google.protobuf.ByteString getLocalBaseKeyPrivate() {
        return localBaseKeyPrivate_;
      }
      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      private void setLocalBaseKeyPrivate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
        localBaseKeyPrivate_ = value;
      }
      /**
       * <code>optional bytes localBaseKeyPrivate = 3;</code>
       */
      private void clearLocalBaseKeyPrivate() {
        bitField0_ = (bitField0_ & ~0x00000004);
        localBaseKeyPrivate_ = getDefaultInstance().getLocalBaseKeyPrivate();
      }

      public static final int LOCALRATCHETKEY_FIELD_NUMBER = 4;
      private com.google.protobuf.ByteString localRatchetKey_;
      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      public boolean hasLocalRatchetKey() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      public com.google.protobuf.ByteString getLocalRatchetKey() {
        return localRatchetKey_;
      }
      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      private void setLocalRatchetKey(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000008;
        localRatchetKey_ = value;
      }
      /**
       * <code>optional bytes localRatchetKey = 4;</code>
       */
      private void clearLocalRatchetKey() {
        bitField0_ = (bitField0_ & ~0x00000008);
        localRatchetKey_ = getDefaultInstance().getLocalRatchetKey();
      }

      public static final int LOCALRATCHETKEYPRIVATE_FIELD_NUMBER = 5;
      private com.google.protobuf.ByteString localRatchetKeyPrivate_;
      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      public boolean hasLocalRatchetKeyPrivate() {
        return ((bitField0_ & 0x00000010) == 0x00000010);
      }
      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      public com.google.protobuf.ByteString getLocalRatchetKeyPrivate() {
        return localRatchetKeyPrivate_;
      }
      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      private void setLocalRatchetKeyPrivate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000010;
        localRatchetKeyPrivate_ = value;
      }
      /**
       * <code>optional bytes localRatchetKeyPrivate = 5;</code>
       */
      private void clearLocalRatchetKeyPrivate() {
        bitField0_ = (bitField0_ & ~0x00000010);
        localRatchetKeyPrivate_ = getDefaultInstance().getLocalRatchetKeyPrivate();
      }

      public static final int LOCALIDENTITYKEY_FIELD_NUMBER = 7;
      private com.google.protobuf.ByteString localIdentityKey_;
      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      public boolean hasLocalIdentityKey() {
        return ((bitField0_ & 0x00000020) == 0x00000020);
      }
      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      public com.google.protobuf.ByteString getLocalIdentityKey() {
        return localIdentityKey_;
      }
      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      private void setLocalIdentityKey(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000020;
        localIdentityKey_ = value;
      }
      /**
       * <code>optional bytes localIdentityKey = 7;</code>
       */
      private void clearLocalIdentityKey() {
        bitField0_ = (bitField0_ & ~0x00000020);
        localIdentityKey_ = getDefaultInstance().getLocalIdentityKey();
      }

      public static final int LOCALIDENTITYKEYPRIVATE_FIELD_NUMBER = 8;
      private com.google.protobuf.ByteString localIdentityKeyPrivate_;
      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      public boolean hasLocalIdentityKeyPrivate() {
        return ((bitField0_ & 0x00000040) == 0x00000040);
      }
      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      public com.google.protobuf.ByteString getLocalIdentityKeyPrivate() {
        return localIdentityKeyPrivate_;
      }
      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      private void setLocalIdentityKeyPrivate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000040;
        localIdentityKeyPrivate_ = value;
      }
      /**
       * <code>optional bytes localIdentityKeyPrivate = 8;</code>
       */
      private void clearLocalIdentityKeyPrivate() {
        bitField0_ = (bitField0_ & ~0x00000040);
        localIdentityKeyPrivate_ = getDefaultInstance().getLocalIdentityKeyPrivate();
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeUInt32(1, sequence_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeBytes(2, localBaseKey_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeBytes(3, localBaseKeyPrivate_);
        }
        if (((bitField0_ & 0x00000008) == 0x00000008)) {
          output.writeBytes(4, localRatchetKey_);
        }
        if (((bitField0_ & 0x00000010) == 0x00000010)) {
          output.writeBytes(5, localRatchetKeyPrivate_);
        }
        if (((bitField0_ & 0x00000020) == 0x00000020)) {
          output.writeBytes(7, localIdentityKey_);
        }
        if (((bitField0_ & 0x00000040) == 0x00000040)) {
          output.writeBytes(8, localIdentityKeyPrivate_);
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeUInt32Size(1, sequence_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, localBaseKey_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(3, localBaseKeyPrivate_);
        }
        if (((bitField0_ & 0x00000008) == 0x00000008)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(4, localRatchetKey_);
        }
        if (((bitField0_ & 0x00000010) == 0x00000010)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(5, localRatchetKeyPrivate_);
        }
        if (((bitField0_ & 0x00000020) == 0x00000020)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(7, localIdentityKey_);
        }
        if (((bitField0_ & 0x00000040) == 0x00000040)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(8, localIdentityKeyPrivate_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SessionStructure.PendingKeyExchange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure.PendingKeyExchange)
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchangeOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional uint32 sequence = 1;</code>
         */
        public boolean hasSequence() {
          return instance.hasSequence();
        }
        /**
         * <code>optional uint32 sequence = 1;</code>
         */
        public int getSequence() {
          return instance.getSequence();
        }
        /**
         * <code>optional uint32 sequence = 1;</code>
         */
        public Builder setSequence(int value) {
          copyOnWrite();
          instance.setSequence(value);
          return this;
        }
        /**
         * <code>optional uint32 sequence = 1;</code>
         */
        public Builder clearSequence() {
          copyOnWrite();
          instance.clearSequence();
          return this;
        }

        /**
         * <code>optional bytes localBaseKey = 2;</code>
         */
        public boolean hasLocalBaseKey() {
          return instance.hasLocalBaseKey();
        }
        /**
         * <code>optional bytes localBaseKey = 2;</code>
         */
        public com.google.protobuf.ByteString getLocalBaseKey() {
          return instance.getLocalBaseKey();
        }
        /**
         * <code>optional bytes localBaseKey = 2;</code>
         */
        public Builder setLocalBaseKey(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalBaseKey(value);
          return this;
        }
        /**
         * <code>optional bytes localBaseKey = 2;</code>
         */
        public Builder clearLocalBaseKey() {
          copyOnWrite();
          instance.clearLocalBaseKey();
          return this;
        }

        /**
         * <code>optional bytes localBaseKeyPrivate = 3;</code>
         */
        public boolean hasLocalBaseKeyPrivate() {
          return instance.hasLocalBaseKeyPrivate();
        }
        /**
         * <code>optional bytes localBaseKeyPrivate = 3;</code>
         */
        public com.google.protobuf.ByteString getLocalBaseKeyPrivate() {
          return instance.getLocalBaseKeyPrivate();
        }
        /**
         * <code>optional bytes localBaseKeyPrivate = 3;</code>
         */
        public Builder setLocalBaseKeyPrivate(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalBaseKeyPrivate(value);
          return this;
        }
        /**
         * <code>optional bytes localBaseKeyPrivate = 3;</code>
         */
        public Builder clearLocalBaseKeyPrivate() {
          copyOnWrite();
          instance.clearLocalBaseKeyPrivate();
          return this;
        }

        /**
         * <code>optional bytes localRatchetKey = 4;</code>
         */
        public boolean hasLocalRatchetKey() {
          return instance.hasLocalRatchetKey();
        }
        /**
         * <code>optional bytes localRatchetKey = 4;</code>
         */
        public com.google.protobuf.ByteString getLocalRatchetKey() {
          return instance.getLocalRatchetKey();
        }
        /**
         * <code>optional bytes localRatchetKey = 4;</code>
         */
        public Builder setLocalRatchetKey(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalRatchetKey(value);
          return this;
        }
        /**
         * <code>optional bytes localRatchetKey = 4;</code>
         */
        public Builder clearLocalRatchetKey() {
          copyOnWrite();
          instance.clearLocalRatchetKey();
          return this;
        }

        /**
         * <code>optional bytes localRatchetKeyPrivate = 5;</code>
         */
        public boolean hasLocalRatchetKeyPrivate() {
          return instance.hasLocalRatchetKeyPrivate();
        }
        /**
         * <code>optional bytes localRatchetKeyPrivate = 5;</code>
         */
        public com.google.protobuf.ByteString getLocalRatchetKeyPrivate() {
          return instance.getLocalRatchetKeyPrivate();
        }
        /**
         * <code>optional bytes localRatchetKeyPrivate = 5;</code>
         */
        public Builder setLocalRatchetKeyPrivate(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalRatchetKeyPrivate(value);
          return this;
        }
        /**
         * <code>optional bytes localRatchetKeyPrivate = 5;</code>
         */
        public Builder clearLocalRatchetKeyPrivate() {
          copyOnWrite();
          instance.clearLocalRatchetKeyPrivate();
          return this;
        }

        /**
         * <code>optional bytes localIdentityKey = 7;</code>
         */
        public boolean hasLocalIdentityKey() {
          return instance.hasLocalIdentityKey();
        }
        /**
         * <code>optional bytes localIdentityKey = 7;</code>
         */
        public com.google.protobuf.ByteString getLocalIdentityKey() {
          return instance.getLocalIdentityKey();
        }
        /**
         * <code>optional bytes localIdentityKey = 7;</code>
         */
        public Builder setLocalIdentityKey(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalIdentityKey(value);
          return this;
        }
        /**
         * <code>optional bytes localIdentityKey = 7;</code>
         */
        public Builder clearLocalIdentityKey() {
          copyOnWrite();
          instance.clearLocalIdentityKey();
          return this;
        }

        /**
         * <code>optional bytes localIdentityKeyPrivate = 8;</code>
         */
        public boolean hasLocalIdentityKeyPrivate() {
          return instance.hasLocalIdentityKeyPrivate();
        }
        /**
         * <code>optional bytes localIdentityKeyPrivate = 8;</code>
         */
        public com.google.protobuf.ByteString getLocalIdentityKeyPrivate() {
          return instance.getLocalIdentityKeyPrivate();
        }
        /**
         * <code>optional bytes localIdentityKeyPrivate = 8;</code>
         */
        public Builder setLocalIdentityKeyPrivate(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setLocalIdentityKeyPrivate(value);
          return this;
        }
        /**
         * <code>optional bytes localIdentityKeyPrivate = 8;</code>
         */
        public Builder clearLocalIdentityKeyPrivate() {
          copyOnWrite();
          instance.clearLocalIdentityKeyPrivate();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure.PendingKeyExchange)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange) arg1;
            sequence_ = visitor.visitInt(
                hasSequence(), sequence_,
                other.hasSequence(), other.sequence_);
            localBaseKey_ = visitor.visitByteString(
                hasLocalBaseKey(), localBaseKey_,
                other.hasLocalBaseKey(), other.localBaseKey_);
            localBaseKeyPrivate_ = visitor.visitByteString(
                hasLocalBaseKeyPrivate(), localBaseKeyPrivate_,
                other.hasLocalBaseKeyPrivate(), other.localBaseKeyPrivate_);
            localRatchetKey_ = visitor.visitByteString(
                hasLocalRatchetKey(), localRatchetKey_,
                other.hasLocalRatchetKey(), other.localRatchetKey_);
            localRatchetKeyPrivate_ = visitor.visitByteString(
                hasLocalRatchetKeyPrivate(), localRatchetKeyPrivate_,
                other.hasLocalRatchetKeyPrivate(), other.localRatchetKeyPrivate_);
            localIdentityKey_ = visitor.visitByteString(
                hasLocalIdentityKey(), localIdentityKey_,
                other.hasLocalIdentityKey(), other.localIdentityKey_);
            localIdentityKeyPrivate_ = visitor.visitByteString(
                hasLocalIdentityKeyPrivate(), localIdentityKeyPrivate_,
                other.hasLocalIdentityKeyPrivate(), other.localIdentityKeyPrivate_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 8: {
                    bitField0_ |= 0x00000001;
                    sequence_ = input.readUInt32();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000002;
                    localBaseKey_ = input.readBytes();
                    break;
                  }
                  case 26: {
                    bitField0_ |= 0x00000004;
                    localBaseKeyPrivate_ = input.readBytes();
                    break;
                  }
                  case 34: {
                    bitField0_ |= 0x00000008;
                    localRatchetKey_ = input.readBytes();
                    break;
                  }
                  case 42: {
                    bitField0_ |= 0x00000010;
                    localRatchetKeyPrivate_ = input.readBytes();
                    break;
                  }
                  case 58: {
                    bitField0_ |= 0x00000020;
                    localIdentityKey_ = input.readBytes();
                    break;
                  }
                  case 66: {
                    bitField0_ |= 0x00000040;
                    localIdentityKeyPrivate_ = input.readBytes();
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SessionStructure.PendingKeyExchange)
      private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new PendingKeyExchange();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<PendingKeyExchange> PARSER;

      public static com.google.protobuf.Parser<PendingKeyExchange> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    public interface PendingPreKeyOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SessionStructure.PendingPreKey)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      boolean hasPreKeyId();
      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      int getPreKeyId();

      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      boolean hasSignedPreKeyId();
      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      int getSignedPreKeyId();

      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      boolean hasBaseKey();
      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      com.google.protobuf.ByteString getBaseKey();
    }
    /**
     * Protobuf type {@code textsecure.SessionStructure.PendingPreKey}
     */
    public  static final class PendingPreKey extends
        com.google.protobuf.GeneratedMessageLite<
            PendingPreKey, PendingPreKey.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SessionStructure.PendingPreKey)
        PendingPreKeyOrBuilder {
      private PendingPreKey() {
        baseKey_ = com.google.protobuf.ByteString.EMPTY;
      }
      private int bitField0_;
      public static final int PREKEYID_FIELD_NUMBER = 1;
      private int preKeyId_;
      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      public boolean hasPreKeyId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      public int getPreKeyId() {
        return preKeyId_;
      }
      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      private void setPreKeyId(int value) {
        bitField0_ |= 0x00000001;
        preKeyId_ = value;
      }
      /**
       * <code>optional uint32 preKeyId = 1;</code>
       */
      private void clearPreKeyId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        preKeyId_ = 0;
      }

      public static final int SIGNEDPREKEYID_FIELD_NUMBER = 3;
      private int signedPreKeyId_;
      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      public boolean hasSignedPreKeyId() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      public int getSignedPreKeyId() {
        return signedPreKeyId_;
      }
      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      private void setSignedPreKeyId(int value) {
        bitField0_ |= 0x00000002;
        signedPreKeyId_ = value;
      }
      /**
       * <code>optional int32 signedPreKeyId = 3;</code>
       */
      private void clearSignedPreKeyId() {
        bitField0_ = (bitField0_ & ~0x00000002);
        signedPreKeyId_ = 0;
      }

      public static final int BASEKEY_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString baseKey_;
      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      public boolean hasBaseKey() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      public com.google.protobuf.ByteString getBaseKey() {
        return baseKey_;
      }
      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      private void setBaseKey(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
        baseKey_ = value;
      }
      /**
       * <code>optional bytes baseKey = 2;</code>
       */
      private void clearBaseKey() {
        bitField0_ = (bitField0_ & ~0x00000004);
        baseKey_ = getDefaultInstance().getBaseKey();
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeUInt32(1, preKeyId_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeBytes(2, baseKey_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeInt32(3, signedPreKeyId_);
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeUInt32Size(1, preKeyId_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, baseKey_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt32Size(3, signedPreKeyId_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SessionStructure.PendingPreKey}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure.PendingPreKey)
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKeyOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional uint32 preKeyId = 1;</code>
         */
        public boolean hasPreKeyId() {
          return instance.hasPreKeyId();
        }
        /**
         * <code>optional uint32 preKeyId = 1;</code>
         */
        public int getPreKeyId() {
          return instance.getPreKeyId();
        }
        /**
         * <code>optional uint32 preKeyId = 1;</code>
         */
        public Builder setPreKeyId(int value) {
          copyOnWrite();
          instance.setPreKeyId(value);
          return this;
        }
        /**
         * <code>optional uint32 preKeyId = 1;</code>
         */
        public Builder clearPreKeyId() {
          copyOnWrite();
          instance.clearPreKeyId();
          return this;
        }

        /**
         * <code>optional int32 signedPreKeyId = 3;</code>
         */
        public boolean hasSignedPreKeyId() {
          return instance.hasSignedPreKeyId();
        }
        /**
         * <code>optional int32 signedPreKeyId = 3;</code>
         */
        public int getSignedPreKeyId() {
          return instance.getSignedPreKeyId();
        }
        /**
         * <code>optional int32 signedPreKeyId = 3;</code>
         */
        public Builder setSignedPreKeyId(int value) {
          copyOnWrite();
          instance.setSignedPreKeyId(value);
          return this;
        }
        /**
         * <code>optional int32 signedPreKeyId = 3;</code>
         */
        public Builder clearSignedPreKeyId() {
          copyOnWrite();
          instance.clearSignedPreKeyId();
          return this;
        }

        /**
         * <code>optional bytes baseKey = 2;</code>
         */
        public boolean hasBaseKey() {
          return instance.hasBaseKey();
        }
        /**
         * <code>optional bytes baseKey = 2;</code>
         */
        public com.google.protobuf.ByteString getBaseKey() {
          return instance.getBaseKey();
        }
        /**
         * <code>optional bytes baseKey = 2;</code>
         */
        public Builder setBaseKey(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setBaseKey(value);
          return this;
        }
        /**
         * <code>optional bytes baseKey = 2;</code>
         */
        public Builder clearBaseKey() {
          copyOnWrite();
          instance.clearBaseKey();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure.PendingPreKey)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey) arg1;
            preKeyId_ = visitor.visitInt(
                hasPreKeyId(), preKeyId_,
                other.hasPreKeyId(), other.preKeyId_);
            signedPreKeyId_ = visitor.visitInt(
                hasSignedPreKeyId(), signedPreKeyId_,
                other.hasSignedPreKeyId(), other.signedPreKeyId_);
            baseKey_ = visitor.visitByteString(
                hasBaseKey(), baseKey_,
                other.hasBaseKey(), other.baseKey_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 8: {
                    bitField0_ |= 0x00000001;
                    preKeyId_ = input.readUInt32();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000004;
                    baseKey_ = input.readBytes();
                    break;
                  }
                  case 24: {
                    bitField0_ |= 0x00000002;
                    signedPreKeyId_ = input.readInt32();
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SessionStructure.PendingPreKey)
      private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new PendingPreKey();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<PendingPreKey> PARSER;

      public static com.google.protobuf.Parser<PendingPreKey> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    private int bitField0_;
    public static final int SESSIONVERSION_FIELD_NUMBER = 1;
    private int sessionVersion_;
    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    public boolean hasSessionVersion() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    public int getSessionVersion() {
      return sessionVersion_;
    }
    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    private void setSessionVersion(int value) {
      bitField0_ |= 0x00000001;
      sessionVersion_ = value;
    }
    /**
     * <code>optional uint32 sessionVersion = 1;</code>
     */
    private void clearSessionVersion() {
      bitField0_ = (bitField0_ & ~0x00000001);
      sessionVersion_ = 0;
    }

    public static final int LOCALIDENTITYPUBLIC_FIELD_NUMBER = 2;
    private com.google.protobuf.ByteString localIdentityPublic_;
    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    public boolean hasLocalIdentityPublic() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    public com.google.protobuf.ByteString getLocalIdentityPublic() {
      return localIdentityPublic_;
    }
    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    private void setLocalIdentityPublic(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
      localIdentityPublic_ = value;
    }
    /**
     * <code>optional bytes localIdentityPublic = 2;</code>
     */
    private void clearLocalIdentityPublic() {
      bitField0_ = (bitField0_ & ~0x00000002);
      localIdentityPublic_ = getDefaultInstance().getLocalIdentityPublic();
    }

    public static final int REMOTEIDENTITYPUBLIC_FIELD_NUMBER = 3;
    private com.google.protobuf.ByteString remoteIdentityPublic_;
    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    public boolean hasRemoteIdentityPublic() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    public com.google.protobuf.ByteString getRemoteIdentityPublic() {
      return remoteIdentityPublic_;
    }
    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    private void setRemoteIdentityPublic(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
      remoteIdentityPublic_ = value;
    }
    /**
     * <code>optional bytes remoteIdentityPublic = 3;</code>
     */
    private void clearRemoteIdentityPublic() {
      bitField0_ = (bitField0_ & ~0x00000004);
      remoteIdentityPublic_ = getDefaultInstance().getRemoteIdentityPublic();
    }

    public static final int ROOTKEY_FIELD_NUMBER = 4;
    private com.google.protobuf.ByteString rootKey_;
    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    public boolean hasRootKey() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    public com.google.protobuf.ByteString getRootKey() {
      return rootKey_;
    }
    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    private void setRootKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000008;
      rootKey_ = value;
    }
    /**
     * <code>optional bytes rootKey = 4;</code>
     */
    private void clearRootKey() {
      bitField0_ = (bitField0_ & ~0x00000008);
      rootKey_ = getDefaultInstance().getRootKey();
    }

    public static final int PREVIOUSCOUNTER_FIELD_NUMBER = 5;
    private int previousCounter_;
    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    public boolean hasPreviousCounter() {
      return ((bitField0_ & 0x00000010) == 0x00000010);
    }
    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    public int getPreviousCounter() {
      return previousCounter_;
    }
    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    private void setPreviousCounter(int value) {
      bitField0_ |= 0x00000010;
      previousCounter_ = value;
    }
    /**
     * <code>optional uint32 previousCounter = 5;</code>
     */
    private void clearPreviousCounter() {
      bitField0_ = (bitField0_ & ~0x00000010);
      previousCounter_ = 0;
    }

    public static final int SENDERCHAIN_FIELD_NUMBER = 6;
    private org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain senderChain_;
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    public boolean hasSenderChain() {
      return ((bitField0_ & 0x00000020) == 0x00000020);
    }
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getSenderChain() {
      return senderChain_ == null ? org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.getDefaultInstance() : senderChain_;
    }
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    private void setSenderChain(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
      if (value == null) {
        throw new NullPointerException();
      }
      senderChain_ = value;
      bitField0_ |= 0x00000020;
      }
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    private void setSenderChain(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
      senderChain_ = builderForValue.build();
      bitField0_ |= 0x00000020;
    }
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    private void mergeSenderChain(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
      if (senderChain_ != null &&
          senderChain_ != org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.getDefaultInstance()) {
        senderChain_ =
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.newBuilder(senderChain_).mergeFrom(value).buildPartial();
      } else {
        senderChain_ = value;
      }
      bitField0_ |= 0x00000020;
    }
    /**
     * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
     */
    private void clearSenderChain() {  senderChain_ = null;
      bitField0_ = (bitField0_ & ~0x00000020);
    }

    public static final int RECEIVERCHAINS_FIELD_NUMBER = 7;
    private com.google.protobuf.Internal.ProtobufList<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> receiverChains_;
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> getReceiverChainsList() {
      return receiverChains_;
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    public java.util.List<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.ChainOrBuilder> 
        getReceiverChainsOrBuilderList() {
      return receiverChains_;
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    public int getReceiverChainsCount() {
      return receiverChains_.size();
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getReceiverChains(int index) {
      return receiverChains_.get(index);
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.ChainOrBuilder getReceiverChainsOrBuilder(
        int index) {
      return receiverChains_.get(index);
    }
    private void ensureReceiverChainsIsMutable() {
      if (!receiverChains_.isModifiable()) {
        receiverChains_ =
            com.google.protobuf.GeneratedMessageLite.mutableCopy(receiverChains_);
       }
    }

    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void setReceiverChains(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureReceiverChainsIsMutable();
      receiverChains_.set(index, value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void setReceiverChains(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
      ensureReceiverChainsIsMutable();
      receiverChains_.set(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void addReceiverChains(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureReceiverChainsIsMutable();
      receiverChains_.add(value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void addReceiverChains(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureReceiverChainsIsMutable();
      receiverChains_.add(index, value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void addReceiverChains(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
      ensureReceiverChainsIsMutable();
      receiverChains_.add(builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void addReceiverChains(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
      ensureReceiverChainsIsMutable();
      receiverChains_.add(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void addAllReceiverChains(
        java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> values) {
      ensureReceiverChainsIsMutable();
      com.google.protobuf.AbstractMessageLite.addAll(
          values, receiverChains_);
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void clearReceiverChains() {
      receiverChains_ = emptyProtobufList();
    }
    /**
     * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
     */
    private void removeReceiverChains(int index) {
      ensureReceiverChainsIsMutable();
      receiverChains_.remove(index);
    }

    public static final int PENDINGKEYEXCHANGE_FIELD_NUMBER = 8;
    private org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange pendingKeyExchange_;
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    public boolean hasPendingKeyExchange() {
      return ((bitField0_ & 0x00000040) == 0x00000040);
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange getPendingKeyExchange() {
      return pendingKeyExchange_ == null ? org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.getDefaultInstance() : pendingKeyExchange_;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    private void setPendingKeyExchange(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange value) {
      if (value == null) {
        throw new NullPointerException();
      }
      pendingKeyExchange_ = value;
      bitField0_ |= 0x00000040;
      }
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    private void setPendingKeyExchange(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.Builder builderForValue) {
      pendingKeyExchange_ = builderForValue.build();
      bitField0_ |= 0x00000040;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    private void mergePendingKeyExchange(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange value) {
      if (pendingKeyExchange_ != null &&
          pendingKeyExchange_ != org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.getDefaultInstance()) {
        pendingKeyExchange_ =
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.newBuilder(pendingKeyExchange_).mergeFrom(value).buildPartial();
      } else {
        pendingKeyExchange_ = value;
      }
      bitField0_ |= 0x00000040;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
     */
    private void clearPendingKeyExchange() {  pendingKeyExchange_ = null;
      bitField0_ = (bitField0_ & ~0x00000040);
    }

    public static final int PENDINGPREKEY_FIELD_NUMBER = 9;
    private org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey pendingPreKey_;
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    public boolean hasPendingPreKey() {
      return ((bitField0_ & 0x00000080) == 0x00000080);
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey getPendingPreKey() {
      return pendingPreKey_ == null ? org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.getDefaultInstance() : pendingPreKey_;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    private void setPendingPreKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      pendingPreKey_ = value;
      bitField0_ |= 0x00000080;
      }
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    private void setPendingPreKey(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.Builder builderForValue) {
      pendingPreKey_ = builderForValue.build();
      bitField0_ |= 0x00000080;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    private void mergePendingPreKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey value) {
      if (pendingPreKey_ != null &&
          pendingPreKey_ != org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.getDefaultInstance()) {
        pendingPreKey_ =
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.newBuilder(pendingPreKey_).mergeFrom(value).buildPartial();
      } else {
        pendingPreKey_ = value;
      }
      bitField0_ |= 0x00000080;
    }
    /**
     * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
     */
    private void clearPendingPreKey() {  pendingPreKey_ = null;
      bitField0_ = (bitField0_ & ~0x00000080);
    }

    public static final int REMOTEREGISTRATIONID_FIELD_NUMBER = 10;
    private int remoteRegistrationId_;
    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    public boolean hasRemoteRegistrationId() {
      return ((bitField0_ & 0x00000100) == 0x00000100);
    }
    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    public int getRemoteRegistrationId() {
      return remoteRegistrationId_;
    }
    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    private void setRemoteRegistrationId(int value) {
      bitField0_ |= 0x00000100;
      remoteRegistrationId_ = value;
    }
    /**
     * <code>optional uint32 remoteRegistrationId = 10;</code>
     */
    private void clearRemoteRegistrationId() {
      bitField0_ = (bitField0_ & ~0x00000100);
      remoteRegistrationId_ = 0;
    }

    public static final int LOCALREGISTRATIONID_FIELD_NUMBER = 11;
    private int localRegistrationId_;
    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    public boolean hasLocalRegistrationId() {
      return ((bitField0_ & 0x00000200) == 0x00000200);
    }
    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    public int getLocalRegistrationId() {
      return localRegistrationId_;
    }
    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    private void setLocalRegistrationId(int value) {
      bitField0_ |= 0x00000200;
      localRegistrationId_ = value;
    }
    /**
     * <code>optional uint32 localRegistrationId = 11;</code>
     */
    private void clearLocalRegistrationId() {
      bitField0_ = (bitField0_ & ~0x00000200);
      localRegistrationId_ = 0;
    }

    public static final int NEEDSREFRESH_FIELD_NUMBER = 12;
    private boolean needsRefresh_;
    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    public boolean hasNeedsRefresh() {
      return ((bitField0_ & 0x00000400) == 0x00000400);
    }
    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    public boolean getNeedsRefresh() {
      return needsRefresh_;
    }
    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    private void setNeedsRefresh(boolean value) {
      bitField0_ |= 0x00000400;
      needsRefresh_ = value;
    }
    /**
     * <code>optional bool needsRefresh = 12;</code>
     */
    private void clearNeedsRefresh() {
      bitField0_ = (bitField0_ & ~0x00000400);
      needsRefresh_ = false;
    }

    public static final int ALICEBASEKEY_FIELD_NUMBER = 13;
    private com.google.protobuf.ByteString aliceBaseKey_;
    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    public boolean hasAliceBaseKey() {
      return ((bitField0_ & 0x00000800) == 0x00000800);
    }
    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    public com.google.protobuf.ByteString getAliceBaseKey() {
      return aliceBaseKey_;
    }
    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    private void setAliceBaseKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000800;
      aliceBaseKey_ = value;
    }
    /**
     * <code>optional bytes aliceBaseKey = 13;</code>
     */
    private void clearAliceBaseKey() {
      bitField0_ = (bitField0_ & ~0x00000800);
      aliceBaseKey_ = getDefaultInstance().getAliceBaseKey();
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeUInt32(1, sessionVersion_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(2, localIdentityPublic_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeBytes(3, remoteIdentityPublic_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeBytes(4, rootKey_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        output.writeUInt32(5, previousCounter_);
      }
      if (((bitField0_ & 0x00000020) == 0x00000020)) {
        output.writeMessage(6, getSenderChain());
      }
      for (int i = 0; i < receiverChains_.size(); i++) {
        output.writeMessage(7, receiverChains_.get(i));
      }
      if (((bitField0_ & 0x00000040) == 0x00000040)) {
        output.writeMessage(8, getPendingKeyExchange());
      }
      if (((bitField0_ & 0x00000080) == 0x00000080)) {
        output.writeMessage(9, getPendingPreKey());
      }
      if (((bitField0_ & 0x00000100) == 0x00000100)) {
        output.writeUInt32(10, remoteRegistrationId_);
      }
      if (((bitField0_ & 0x00000200) == 0x00000200)) {
        output.writeUInt32(11, localRegistrationId_);
      }
      if (((bitField0_ & 0x00000400) == 0x00000400)) {
        output.writeBool(12, needsRefresh_);
      }
      if (((bitField0_ & 0x00000800) == 0x00000800)) {
        output.writeBytes(13, aliceBaseKey_);
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(1, sessionVersion_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, localIdentityPublic_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(3, remoteIdentityPublic_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(4, rootKey_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(5, previousCounter_);
      }
      if (((bitField0_ & 0x00000020) == 0x00000020)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(6, getSenderChain());
      }
      for (int i = 0; i < receiverChains_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(7, receiverChains_.get(i));
      }
      if (((bitField0_ & 0x00000040) == 0x00000040)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(8, getPendingKeyExchange());
      }
      if (((bitField0_ & 0x00000080) == 0x00000080)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(9, getPendingPreKey());
      }
      if (((bitField0_ & 0x00000100) == 0x00000100)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(10, remoteRegistrationId_);
      }
      if (((bitField0_ & 0x00000200) == 0x00000200)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(11, localRegistrationId_);
      }
      if (((bitField0_ & 0x00000400) == 0x00000400)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(12, needsRefresh_);
      }
      if (((bitField0_ & 0x00000800) == 0x00000800)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(13, aliceBaseKey_);
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SessionStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.SessionStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.SessionStructure)
        org.whispersystems.libsignal.state.StorageProtos.SessionStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.SessionStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional uint32 sessionVersion = 1;</code>
       */
      public boolean hasSessionVersion() {
        return instance.hasSessionVersion();
      }
      /**
       * <code>optional uint32 sessionVersion = 1;</code>
       */
      public int getSessionVersion() {
        return instance.getSessionVersion();
      }
      /**
       * <code>optional uint32 sessionVersion = 1;</code>
       */
      public Builder setSessionVersion(int value) {
        copyOnWrite();
        instance.setSessionVersion(value);
        return this;
      }
      /**
       * <code>optional uint32 sessionVersion = 1;</code>
       */
      public Builder clearSessionVersion() {
        copyOnWrite();
        instance.clearSessionVersion();
        return this;
      }

      /**
       * <code>optional bytes localIdentityPublic = 2;</code>
       */
      public boolean hasLocalIdentityPublic() {
        return instance.hasLocalIdentityPublic();
      }
      /**
       * <code>optional bytes localIdentityPublic = 2;</code>
       */
      public com.google.protobuf.ByteString getLocalIdentityPublic() {
        return instance.getLocalIdentityPublic();
      }
      /**
       * <code>optional bytes localIdentityPublic = 2;</code>
       */
      public Builder setLocalIdentityPublic(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setLocalIdentityPublic(value);
        return this;
      }
      /**
       * <code>optional bytes localIdentityPublic = 2;</code>
       */
      public Builder clearLocalIdentityPublic() {
        copyOnWrite();
        instance.clearLocalIdentityPublic();
        return this;
      }

      /**
       * <code>optional bytes remoteIdentityPublic = 3;</code>
       */
      public boolean hasRemoteIdentityPublic() {
        return instance.hasRemoteIdentityPublic();
      }
      /**
       * <code>optional bytes remoteIdentityPublic = 3;</code>
       */
      public com.google.protobuf.ByteString getRemoteIdentityPublic() {
        return instance.getRemoteIdentityPublic();
      }
      /**
       * <code>optional bytes remoteIdentityPublic = 3;</code>
       */
      public Builder setRemoteIdentityPublic(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setRemoteIdentityPublic(value);
        return this;
      }
      /**
       * <code>optional bytes remoteIdentityPublic = 3;</code>
       */
      public Builder clearRemoteIdentityPublic() {
        copyOnWrite();
        instance.clearRemoteIdentityPublic();
        return this;
      }

      /**
       * <code>optional bytes rootKey = 4;</code>
       */
      public boolean hasRootKey() {
        return instance.hasRootKey();
      }
      /**
       * <code>optional bytes rootKey = 4;</code>
       */
      public com.google.protobuf.ByteString getRootKey() {
        return instance.getRootKey();
      }
      /**
       * <code>optional bytes rootKey = 4;</code>
       */
      public Builder setRootKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setRootKey(value);
        return this;
      }
      /**
       * <code>optional bytes rootKey = 4;</code>
       */
      public Builder clearRootKey() {
        copyOnWrite();
        instance.clearRootKey();
        return this;
      }

      /**
       * <code>optional uint32 previousCounter = 5;</code>
       */
      public boolean hasPreviousCounter() {
        return instance.hasPreviousCounter();
      }
      /**
       * <code>optional uint32 previousCounter = 5;</code>
       */
      public int getPreviousCounter() {
        return instance.getPreviousCounter();
      }
      /**
       * <code>optional uint32 previousCounter = 5;</code>
       */
      public Builder setPreviousCounter(int value) {
        copyOnWrite();
        instance.setPreviousCounter(value);
        return this;
      }
      /**
       * <code>optional uint32 previousCounter = 5;</code>
       */
      public Builder clearPreviousCounter() {
        copyOnWrite();
        instance.clearPreviousCounter();
        return this;
      }

      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public boolean hasSenderChain() {
        return instance.hasSenderChain();
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getSenderChain() {
        return instance.getSenderChain();
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public Builder setSenderChain(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
        copyOnWrite();
        instance.setSenderChain(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public Builder setSenderChain(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
        copyOnWrite();
        instance.setSenderChain(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public Builder mergeSenderChain(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
        copyOnWrite();
        instance.mergeSenderChain(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.Chain senderChain = 6;</code>
       */
      public Builder clearSenderChain() {  copyOnWrite();
        instance.clearSenderChain();
        return this;
      }

      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> getReceiverChainsList() {
        return java.util.Collections.unmodifiableList(
            instance.getReceiverChainsList());
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public int getReceiverChainsCount() {
        return instance.getReceiverChainsCount();
      }/**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain getReceiverChains(int index) {
        return instance.getReceiverChains(index);
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder setReceiverChains(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
        copyOnWrite();
        instance.setReceiverChains(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder setReceiverChains(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
        copyOnWrite();
        instance.setReceiverChains(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder addReceiverChains(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
        copyOnWrite();
        instance.addReceiverChains(value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder addReceiverChains(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain value) {
        copyOnWrite();
        instance.addReceiverChains(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder addReceiverChains(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
        copyOnWrite();
        instance.addReceiverChains(builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder addReceiverChains(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder builderForValue) {
        copyOnWrite();
        instance.addReceiverChains(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder addAllReceiverChains(
          java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain> values) {
        copyOnWrite();
        instance.addAllReceiverChains(values);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder clearReceiverChains() {
        copyOnWrite();
        instance.clearReceiverChains();
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure.Chain receiverChains = 7;</code>
       */
      public Builder removeReceiverChains(int index) {
        copyOnWrite();
        instance.removeReceiverChains(index);
        return this;
      }

      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public boolean hasPendingKeyExchange() {
        return instance.hasPendingKeyExchange();
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange getPendingKeyExchange() {
        return instance.getPendingKeyExchange();
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public Builder setPendingKeyExchange(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange value) {
        copyOnWrite();
        instance.setPendingKeyExchange(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public Builder setPendingKeyExchange(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.Builder builderForValue) {
        copyOnWrite();
        instance.setPendingKeyExchange(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public Builder mergePendingKeyExchange(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange value) {
        copyOnWrite();
        instance.mergePendingKeyExchange(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingKeyExchange pendingKeyExchange = 8;</code>
       */
      public Builder clearPendingKeyExchange() {  copyOnWrite();
        instance.clearPendingKeyExchange();
        return this;
      }

      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public boolean hasPendingPreKey() {
        return instance.hasPendingPreKey();
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey getPendingPreKey() {
        return instance.getPendingPreKey();
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public Builder setPendingPreKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey value) {
        copyOnWrite();
        instance.setPendingPreKey(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public Builder setPendingPreKey(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.Builder builderForValue) {
        copyOnWrite();
        instance.setPendingPreKey(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public Builder mergePendingPreKey(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey value) {
        copyOnWrite();
        instance.mergePendingPreKey(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure.PendingPreKey pendingPreKey = 9;</code>
       */
      public Builder clearPendingPreKey() {  copyOnWrite();
        instance.clearPendingPreKey();
        return this;
      }

      /**
       * <code>optional uint32 remoteRegistrationId = 10;</code>
       */
      public boolean hasRemoteRegistrationId() {
        return instance.hasRemoteRegistrationId();
      }
      /**
       * <code>optional uint32 remoteRegistrationId = 10;</code>
       */
      public int getRemoteRegistrationId() {
        return instance.getRemoteRegistrationId();
      }
      /**
       * <code>optional uint32 remoteRegistrationId = 10;</code>
       */
      public Builder setRemoteRegistrationId(int value) {
        copyOnWrite();
        instance.setRemoteRegistrationId(value);
        return this;
      }
      /**
       * <code>optional uint32 remoteRegistrationId = 10;</code>
       */
      public Builder clearRemoteRegistrationId() {
        copyOnWrite();
        instance.clearRemoteRegistrationId();
        return this;
      }

      /**
       * <code>optional uint32 localRegistrationId = 11;</code>
       */
      public boolean hasLocalRegistrationId() {
        return instance.hasLocalRegistrationId();
      }
      /**
       * <code>optional uint32 localRegistrationId = 11;</code>
       */
      public int getLocalRegistrationId() {
        return instance.getLocalRegistrationId();
      }
      /**
       * <code>optional uint32 localRegistrationId = 11;</code>
       */
      public Builder setLocalRegistrationId(int value) {
        copyOnWrite();
        instance.setLocalRegistrationId(value);
        return this;
      }
      /**
       * <code>optional uint32 localRegistrationId = 11;</code>
       */
      public Builder clearLocalRegistrationId() {
        copyOnWrite();
        instance.clearLocalRegistrationId();
        return this;
      }

      /**
       * <code>optional bool needsRefresh = 12;</code>
       */
      public boolean hasNeedsRefresh() {
        return instance.hasNeedsRefresh();
      }
      /**
       * <code>optional bool needsRefresh = 12;</code>
       */
      public boolean getNeedsRefresh() {
        return instance.getNeedsRefresh();
      }
      /**
       * <code>optional bool needsRefresh = 12;</code>
       */
      public Builder setNeedsRefresh(boolean value) {
        copyOnWrite();
        instance.setNeedsRefresh(value);
        return this;
      }
      /**
       * <code>optional bool needsRefresh = 12;</code>
       */
      public Builder clearNeedsRefresh() {
        copyOnWrite();
        instance.clearNeedsRefresh();
        return this;
      }

      /**
       * <code>optional bytes aliceBaseKey = 13;</code>
       */
      public boolean hasAliceBaseKey() {
        return instance.hasAliceBaseKey();
      }
      /**
       * <code>optional bytes aliceBaseKey = 13;</code>
       */
      public com.google.protobuf.ByteString getAliceBaseKey() {
        return instance.getAliceBaseKey();
      }
      /**
       * <code>optional bytes aliceBaseKey = 13;</code>
       */
      public Builder setAliceBaseKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setAliceBaseKey(value);
        return this;
      }
      /**
       * <code>optional bytes aliceBaseKey = 13;</code>
       */
      public Builder clearAliceBaseKey() {
        copyOnWrite();
        instance.clearAliceBaseKey();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.SessionStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.SessionStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          receiverChains_.makeImmutable();
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure other = (org.whispersystems.libsignal.state.StorageProtos.SessionStructure) arg1;
          sessionVersion_ = visitor.visitInt(
              hasSessionVersion(), sessionVersion_,
              other.hasSessionVersion(), other.sessionVersion_);
          localIdentityPublic_ = visitor.visitByteString(
              hasLocalIdentityPublic(), localIdentityPublic_,
              other.hasLocalIdentityPublic(), other.localIdentityPublic_);
          remoteIdentityPublic_ = visitor.visitByteString(
              hasRemoteIdentityPublic(), remoteIdentityPublic_,
              other.hasRemoteIdentityPublic(), other.remoteIdentityPublic_);
          rootKey_ = visitor.visitByteString(
              hasRootKey(), rootKey_,
              other.hasRootKey(), other.rootKey_);
          previousCounter_ = visitor.visitInt(
              hasPreviousCounter(), previousCounter_,
              other.hasPreviousCounter(), other.previousCounter_);
          senderChain_ = visitor.visitMessage(senderChain_, other.senderChain_);
          receiverChains_= visitor.visitList(receiverChains_, other.receiverChains_);
          pendingKeyExchange_ = visitor.visitMessage(pendingKeyExchange_, other.pendingKeyExchange_);
          pendingPreKey_ = visitor.visitMessage(pendingPreKey_, other.pendingPreKey_);
          remoteRegistrationId_ = visitor.visitInt(
              hasRemoteRegistrationId(), remoteRegistrationId_,
              other.hasRemoteRegistrationId(), other.remoteRegistrationId_);
          localRegistrationId_ = visitor.visitInt(
              hasLocalRegistrationId(), localRegistrationId_,
              other.hasLocalRegistrationId(), other.localRegistrationId_);
          needsRefresh_ = visitor.visitBoolean(
              hasNeedsRefresh(), needsRefresh_,
              other.hasNeedsRefresh(), other.needsRefresh_);
          aliceBaseKey_ = visitor.visitByteString(
              hasAliceBaseKey(), aliceBaseKey_,
              other.hasAliceBaseKey(), other.aliceBaseKey_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 8: {
                  bitField0_ |= 0x00000001;
                  sessionVersion_ = input.readUInt32();
                  break;
                }
                case 18: {
                  bitField0_ |= 0x00000002;
                  localIdentityPublic_ = input.readBytes();
                  break;
                }
                case 26: {
                  bitField0_ |= 0x00000004;
                  remoteIdentityPublic_ = input.readBytes();
                  break;
                }
                case 34: {
                  bitField0_ |= 0x00000008;
                  rootKey_ = input.readBytes();
                  break;
                }
                case 40: {
                  bitField0_ |= 0x00000010;
                  previousCounter_ = input.readUInt32();
                  break;
                }
                case 50: {
                  org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000020) == 0x00000020)) {
                    subBuilder = senderChain_.toBuilder();
                  }
                  senderChain_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(senderChain_);
                    senderChain_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000020;
                  break;
                }
                case 58: {
                  if (!receiverChains_.isModifiable()) {
                    receiverChains_ =
                        com.google.protobuf.GeneratedMessageLite.mutableCopy(receiverChains_);
                  }
                  receiverChains_.add(
                      input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Chain.parser(), extensionRegistry));
                  break;
                }
                case 66: {
                  org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000040) == 0x00000040)) {
                    subBuilder = pendingKeyExchange_.toBuilder();
                  }
                  pendingKeyExchange_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingKeyExchange.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(pendingKeyExchange_);
                    pendingKeyExchange_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000040;
                  break;
                }
                case 74: {
                  org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000080) == 0x00000080)) {
                    subBuilder = pendingPreKey_.toBuilder();
                  }
                  pendingPreKey_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.PendingPreKey.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(pendingPreKey_);
                    pendingPreKey_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000080;
                  break;
                }
                case 80: {
                  bitField0_ |= 0x00000100;
                  remoteRegistrationId_ = input.readUInt32();
                  break;
                }
                case 88: {
                  bitField0_ |= 0x00000200;
                  localRegistrationId_ = input.readUInt32();
                  break;
                }
                case 96: {
                  bitField0_ |= 0x00000400;
                  needsRefresh_ = input.readBool();
                  break;
                }
                case 106: {
                  bitField0_ |= 0x00000800;
                  aliceBaseKey_ = input.readBytes();
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SessionStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.SessionStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.SessionStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new SessionStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SessionStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<SessionStructure> PARSER;

    public static com.google.protobuf.Parser<SessionStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface RecordStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.RecordStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    boolean hasCurrentSession();
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure getCurrentSession();

    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure> 
        getPreviousSessionsList();
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SessionStructure getPreviousSessions(int index);
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    int getPreviousSessionsCount();
  }
  /**
   * Protobuf type {@code textsecure.RecordStructure}
   */
  public  static final class RecordStructure extends
      com.google.protobuf.GeneratedMessageLite<
          RecordStructure, RecordStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.RecordStructure)
      RecordStructureOrBuilder {
    private RecordStructure() {
      previousSessions_ = emptyProtobufList();
    }
    private int bitField0_;
    public static final int CURRENTSESSION_FIELD_NUMBER = 1;
    private org.whispersystems.libsignal.state.StorageProtos.SessionStructure currentSession_;
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    public boolean hasCurrentSession() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure getCurrentSession() {
      return currentSession_ == null ? org.whispersystems.libsignal.state.StorageProtos.SessionStructure.getDefaultInstance() : currentSession_;
    }
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    private void setCurrentSession(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      currentSession_ = value;
      bitField0_ |= 0x00000001;
      }
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    private void setCurrentSession(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
      currentSession_ = builderForValue.build();
      bitField0_ |= 0x00000001;
    }
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    private void mergeCurrentSession(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
      if (currentSession_ != null &&
          currentSession_ != org.whispersystems.libsignal.state.StorageProtos.SessionStructure.getDefaultInstance()) {
        currentSession_ =
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.newBuilder(currentSession_).mergeFrom(value).buildPartial();
      } else {
        currentSession_ = value;
      }
      bitField0_ |= 0x00000001;
    }
    /**
     * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
     */
    private void clearCurrentSession() {  currentSession_ = null;
      bitField0_ = (bitField0_ & ~0x00000001);
    }

    public static final int PREVIOUSSESSIONS_FIELD_NUMBER = 2;
    private com.google.protobuf.Internal.ProtobufList<org.whispersystems.libsignal.state.StorageProtos.SessionStructure> previousSessions_;
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure> getPreviousSessionsList() {
      return previousSessions_;
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    public java.util.List<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructureOrBuilder> 
        getPreviousSessionsOrBuilderList() {
      return previousSessions_;
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    public int getPreviousSessionsCount() {
      return previousSessions_.size();
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructure getPreviousSessions(int index) {
      return previousSessions_.get(index);
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SessionStructureOrBuilder getPreviousSessionsOrBuilder(
        int index) {
      return previousSessions_.get(index);
    }
    private void ensurePreviousSessionsIsMutable() {
      if (!previousSessions_.isModifiable()) {
        previousSessions_ =
            com.google.protobuf.GeneratedMessageLite.mutableCopy(previousSessions_);
       }
    }

    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void setPreviousSessions(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensurePreviousSessionsIsMutable();
      previousSessions_.set(index, value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void setPreviousSessions(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
      ensurePreviousSessionsIsMutable();
      previousSessions_.set(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void addPreviousSessions(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensurePreviousSessionsIsMutable();
      previousSessions_.add(value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void addPreviousSessions(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensurePreviousSessionsIsMutable();
      previousSessions_.add(index, value);
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void addPreviousSessions(
        org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
      ensurePreviousSessionsIsMutable();
      previousSessions_.add(builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void addPreviousSessions(
        int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
      ensurePreviousSessionsIsMutable();
      previousSessions_.add(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void addAllPreviousSessions(
        java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure> values) {
      ensurePreviousSessionsIsMutable();
      com.google.protobuf.AbstractMessageLite.addAll(
          values, previousSessions_);
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void clearPreviousSessions() {
      previousSessions_ = emptyProtobufList();
    }
    /**
     * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
     */
    private void removePreviousSessions(int index) {
      ensurePreviousSessionsIsMutable();
      previousSessions_.remove(index);
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeMessage(1, getCurrentSession());
      }
      for (int i = 0; i < previousSessions_.size(); i++) {
        output.writeMessage(2, previousSessions_.get(i));
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, getCurrentSession());
      }
      for (int i = 0; i < previousSessions_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, previousSessions_.get(i));
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.RecordStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.RecordStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.RecordStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.RecordStructure)
        org.whispersystems.libsignal.state.StorageProtos.RecordStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.RecordStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public boolean hasCurrentSession() {
        return instance.hasCurrentSession();
      }
      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure getCurrentSession() {
        return instance.getCurrentSession();
      }
      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public Builder setCurrentSession(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
        copyOnWrite();
        instance.setCurrentSession(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public Builder setCurrentSession(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
        copyOnWrite();
        instance.setCurrentSession(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public Builder mergeCurrentSession(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
        copyOnWrite();
        instance.mergeCurrentSession(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SessionStructure currentSession = 1;</code>
       */
      public Builder clearCurrentSession() {  copyOnWrite();
        instance.clearCurrentSession();
        return this;
      }

      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SessionStructure> getPreviousSessionsList() {
        return java.util.Collections.unmodifiableList(
            instance.getPreviousSessionsList());
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public int getPreviousSessionsCount() {
        return instance.getPreviousSessionsCount();
      }/**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SessionStructure getPreviousSessions(int index) {
        return instance.getPreviousSessions(index);
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder setPreviousSessions(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
        copyOnWrite();
        instance.setPreviousSessions(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder setPreviousSessions(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
        copyOnWrite();
        instance.setPreviousSessions(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder addPreviousSessions(org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
        copyOnWrite();
        instance.addPreviousSessions(value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder addPreviousSessions(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure value) {
        copyOnWrite();
        instance.addPreviousSessions(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder addPreviousSessions(
          org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
        copyOnWrite();
        instance.addPreviousSessions(builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder addPreviousSessions(
          int index, org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder builderForValue) {
        copyOnWrite();
        instance.addPreviousSessions(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder addAllPreviousSessions(
          java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SessionStructure> values) {
        copyOnWrite();
        instance.addAllPreviousSessions(values);
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder clearPreviousSessions() {
        copyOnWrite();
        instance.clearPreviousSessions();
        return this;
      }
      /**
       * <code>repeated .textsecure.SessionStructure previousSessions = 2;</code>
       */
      public Builder removePreviousSessions(int index) {
        copyOnWrite();
        instance.removePreviousSessions(index);
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.RecordStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.RecordStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          previousSessions_.makeImmutable();
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.RecordStructure other = (org.whispersystems.libsignal.state.StorageProtos.RecordStructure) arg1;
          currentSession_ = visitor.visitMessage(currentSession_, other.currentSession_);
          previousSessions_= visitor.visitList(previousSessions_, other.previousSessions_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 10: {
                  org.whispersystems.libsignal.state.StorageProtos.SessionStructure.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000001) == 0x00000001)) {
                    subBuilder = currentSession_.toBuilder();
                  }
                  currentSession_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(currentSession_);
                    currentSession_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000001;
                  break;
                }
                case 18: {
                  if (!previousSessions_.isModifiable()) {
                    previousSessions_ =
                        com.google.protobuf.GeneratedMessageLite.mutableCopy(previousSessions_);
                  }
                  previousSessions_.add(
                      input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SessionStructure.parser(), extensionRegistry));
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.RecordStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.RecordStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.RecordStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new RecordStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.RecordStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<RecordStructure> PARSER;

    public static com.google.protobuf.Parser<RecordStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface PreKeyRecordStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.PreKeyRecordStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional uint32 id = 1;</code>
     */
    boolean hasId();
    /**
     * <code>optional uint32 id = 1;</code>
     */
    int getId();

    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    boolean hasPublicKey();
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    com.google.protobuf.ByteString getPublicKey();

    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    boolean hasPrivateKey();
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    com.google.protobuf.ByteString getPrivateKey();
  }
  /**
   * Protobuf type {@code textsecure.PreKeyRecordStructure}
   */
  public  static final class PreKeyRecordStructure extends
      com.google.protobuf.GeneratedMessageLite<
          PreKeyRecordStructure, PreKeyRecordStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.PreKeyRecordStructure)
      PreKeyRecordStructureOrBuilder {
    private PreKeyRecordStructure() {
      publicKey_ = com.google.protobuf.ByteString.EMPTY;
      privateKey_ = com.google.protobuf.ByteString.EMPTY;
    }
    private int bitField0_;
    public static final int ID_FIELD_NUMBER = 1;
    private int id_;
    /**
     * <code>optional uint32 id = 1;</code>
     */
    public boolean hasId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    public int getId() {
      return id_;
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    private void setId(int value) {
      bitField0_ |= 0x00000001;
      id_ = value;
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    private void clearId() {
      bitField0_ = (bitField0_ & ~0x00000001);
      id_ = 0;
    }

    public static final int PUBLICKEY_FIELD_NUMBER = 2;
    private com.google.protobuf.ByteString publicKey_;
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    public boolean hasPublicKey() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    public com.google.protobuf.ByteString getPublicKey() {
      return publicKey_;
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    private void setPublicKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
      publicKey_ = value;
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    private void clearPublicKey() {
      bitField0_ = (bitField0_ & ~0x00000002);
      publicKey_ = getDefaultInstance().getPublicKey();
    }

    public static final int PRIVATEKEY_FIELD_NUMBER = 3;
    private com.google.protobuf.ByteString privateKey_;
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    public boolean hasPrivateKey() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    public com.google.protobuf.ByteString getPrivateKey() {
      return privateKey_;
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    private void setPrivateKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
      privateKey_ = value;
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    private void clearPrivateKey() {
      bitField0_ = (bitField0_ & ~0x00000004);
      privateKey_ = getDefaultInstance().getPrivateKey();
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeUInt32(1, id_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(2, publicKey_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeBytes(3, privateKey_);
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(1, id_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, publicKey_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(3, privateKey_);
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.PreKeyRecordStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.PreKeyRecordStructure)
        org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional uint32 id = 1;</code>
       */
      public boolean hasId() {
        return instance.hasId();
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public int getId() {
        return instance.getId();
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public Builder setId(int value) {
        copyOnWrite();
        instance.setId(value);
        return this;
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public Builder clearId() {
        copyOnWrite();
        instance.clearId();
        return this;
      }

      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public boolean hasPublicKey() {
        return instance.hasPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public com.google.protobuf.ByteString getPublicKey() {
        return instance.getPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public Builder setPublicKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPublicKey(value);
        return this;
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public Builder clearPublicKey() {
        copyOnWrite();
        instance.clearPublicKey();
        return this;
      }

      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public boolean hasPrivateKey() {
        return instance.hasPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public com.google.protobuf.ByteString getPrivateKey() {
        return instance.getPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public Builder setPrivateKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPrivateKey(value);
        return this;
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public Builder clearPrivateKey() {
        copyOnWrite();
        instance.clearPrivateKey();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.PreKeyRecordStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure other = (org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure) arg1;
          id_ = visitor.visitInt(
              hasId(), id_,
              other.hasId(), other.id_);
          publicKey_ = visitor.visitByteString(
              hasPublicKey(), publicKey_,
              other.hasPublicKey(), other.publicKey_);
          privateKey_ = visitor.visitByteString(
              hasPrivateKey(), privateKey_,
              other.hasPrivateKey(), other.privateKey_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 8: {
                  bitField0_ |= 0x00000001;
                  id_ = input.readUInt32();
                  break;
                }
                case 18: {
                  bitField0_ |= 0x00000002;
                  publicKey_ = input.readBytes();
                  break;
                }
                case 26: {
                  bitField0_ |= 0x00000004;
                  privateKey_ = input.readBytes();
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.PreKeyRecordStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new PreKeyRecordStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.PreKeyRecordStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<PreKeyRecordStructure> PARSER;

    public static com.google.protobuf.Parser<PreKeyRecordStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface SignedPreKeyRecordStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.SignedPreKeyRecordStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional uint32 id = 1;</code>
     */
    boolean hasId();
    /**
     * <code>optional uint32 id = 1;</code>
     */
    int getId();

    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    boolean hasPublicKey();
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    com.google.protobuf.ByteString getPublicKey();

    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    boolean hasPrivateKey();
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    com.google.protobuf.ByteString getPrivateKey();

    /**
     * <code>optional bytes signature = 4;</code>
     */
    boolean hasSignature();
    /**
     * <code>optional bytes signature = 4;</code>
     */
    com.google.protobuf.ByteString getSignature();

    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    boolean hasTimestamp();
    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    long getTimestamp();
  }
  /**
   * Protobuf type {@code textsecure.SignedPreKeyRecordStructure}
   */
  public  static final class SignedPreKeyRecordStructure extends
      com.google.protobuf.GeneratedMessageLite<
          SignedPreKeyRecordStructure, SignedPreKeyRecordStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.SignedPreKeyRecordStructure)
      SignedPreKeyRecordStructureOrBuilder {
    private SignedPreKeyRecordStructure() {
      publicKey_ = com.google.protobuf.ByteString.EMPTY;
      privateKey_ = com.google.protobuf.ByteString.EMPTY;
      signature_ = com.google.protobuf.ByteString.EMPTY;
    }
    private int bitField0_;
    public static final int ID_FIELD_NUMBER = 1;
    private int id_;
    /**
     * <code>optional uint32 id = 1;</code>
     */
    public boolean hasId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    public int getId() {
      return id_;
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    private void setId(int value) {
      bitField0_ |= 0x00000001;
      id_ = value;
    }
    /**
     * <code>optional uint32 id = 1;</code>
     */
    private void clearId() {
      bitField0_ = (bitField0_ & ~0x00000001);
      id_ = 0;
    }

    public static final int PUBLICKEY_FIELD_NUMBER = 2;
    private com.google.protobuf.ByteString publicKey_;
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    public boolean hasPublicKey() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    public com.google.protobuf.ByteString getPublicKey() {
      return publicKey_;
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    private void setPublicKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
      publicKey_ = value;
    }
    /**
     * <code>optional bytes publicKey = 2;</code>
     */
    private void clearPublicKey() {
      bitField0_ = (bitField0_ & ~0x00000002);
      publicKey_ = getDefaultInstance().getPublicKey();
    }

    public static final int PRIVATEKEY_FIELD_NUMBER = 3;
    private com.google.protobuf.ByteString privateKey_;
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    public boolean hasPrivateKey() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    public com.google.protobuf.ByteString getPrivateKey() {
      return privateKey_;
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    private void setPrivateKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000004;
      privateKey_ = value;
    }
    /**
     * <code>optional bytes privateKey = 3;</code>
     */
    private void clearPrivateKey() {
      bitField0_ = (bitField0_ & ~0x00000004);
      privateKey_ = getDefaultInstance().getPrivateKey();
    }

    public static final int SIGNATURE_FIELD_NUMBER = 4;
    private com.google.protobuf.ByteString signature_;
    /**
     * <code>optional bytes signature = 4;</code>
     */
    public boolean hasSignature() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>optional bytes signature = 4;</code>
     */
    public com.google.protobuf.ByteString getSignature() {
      return signature_;
    }
    /**
     * <code>optional bytes signature = 4;</code>
     */
    private void setSignature(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000008;
      signature_ = value;
    }
    /**
     * <code>optional bytes signature = 4;</code>
     */
    private void clearSignature() {
      bitField0_ = (bitField0_ & ~0x00000008);
      signature_ = getDefaultInstance().getSignature();
    }

    public static final int TIMESTAMP_FIELD_NUMBER = 5;
    private long timestamp_;
    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    public boolean hasTimestamp() {
      return ((bitField0_ & 0x00000010) == 0x00000010);
    }
    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    public long getTimestamp() {
      return timestamp_;
    }
    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    private void setTimestamp(long value) {
      bitField0_ |= 0x00000010;
      timestamp_ = value;
    }
    /**
     * <code>optional fixed64 timestamp = 5;</code>
     */
    private void clearTimestamp() {
      bitField0_ = (bitField0_ & ~0x00000010);
      timestamp_ = 0L;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeUInt32(1, id_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(2, publicKey_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeBytes(3, privateKey_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeBytes(4, signature_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        output.writeFixed64(5, timestamp_);
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(1, id_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, publicKey_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(3, privateKey_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(4, signature_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        size += com.google.protobuf.CodedOutputStream
          .computeFixed64Size(5, timestamp_);
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.SignedPreKeyRecordStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.SignedPreKeyRecordStructure)
        org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional uint32 id = 1;</code>
       */
      public boolean hasId() {
        return instance.hasId();
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public int getId() {
        return instance.getId();
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public Builder setId(int value) {
        copyOnWrite();
        instance.setId(value);
        return this;
      }
      /**
       * <code>optional uint32 id = 1;</code>
       */
      public Builder clearId() {
        copyOnWrite();
        instance.clearId();
        return this;
      }

      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public boolean hasPublicKey() {
        return instance.hasPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public com.google.protobuf.ByteString getPublicKey() {
        return instance.getPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public Builder setPublicKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPublicKey(value);
        return this;
      }
      /**
       * <code>optional bytes publicKey = 2;</code>
       */
      public Builder clearPublicKey() {
        copyOnWrite();
        instance.clearPublicKey();
        return this;
      }

      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public boolean hasPrivateKey() {
        return instance.hasPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public com.google.protobuf.ByteString getPrivateKey() {
        return instance.getPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public Builder setPrivateKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPrivateKey(value);
        return this;
      }
      /**
       * <code>optional bytes privateKey = 3;</code>
       */
      public Builder clearPrivateKey() {
        copyOnWrite();
        instance.clearPrivateKey();
        return this;
      }

      /**
       * <code>optional bytes signature = 4;</code>
       */
      public boolean hasSignature() {
        return instance.hasSignature();
      }
      /**
       * <code>optional bytes signature = 4;</code>
       */
      public com.google.protobuf.ByteString getSignature() {
        return instance.getSignature();
      }
      /**
       * <code>optional bytes signature = 4;</code>
       */
      public Builder setSignature(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setSignature(value);
        return this;
      }
      /**
       * <code>optional bytes signature = 4;</code>
       */
      public Builder clearSignature() {
        copyOnWrite();
        instance.clearSignature();
        return this;
      }

      /**
       * <code>optional fixed64 timestamp = 5;</code>
       */
      public boolean hasTimestamp() {
        return instance.hasTimestamp();
      }
      /**
       * <code>optional fixed64 timestamp = 5;</code>
       */
      public long getTimestamp() {
        return instance.getTimestamp();
      }
      /**
       * <code>optional fixed64 timestamp = 5;</code>
       */
      public Builder setTimestamp(long value) {
        copyOnWrite();
        instance.setTimestamp(value);
        return this;
      }
      /**
       * <code>optional fixed64 timestamp = 5;</code>
       */
      public Builder clearTimestamp() {
        copyOnWrite();
        instance.clearTimestamp();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.SignedPreKeyRecordStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure other = (org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure) arg1;
          id_ = visitor.visitInt(
              hasId(), id_,
              other.hasId(), other.id_);
          publicKey_ = visitor.visitByteString(
              hasPublicKey(), publicKey_,
              other.hasPublicKey(), other.publicKey_);
          privateKey_ = visitor.visitByteString(
              hasPrivateKey(), privateKey_,
              other.hasPrivateKey(), other.privateKey_);
          signature_ = visitor.visitByteString(
              hasSignature(), signature_,
              other.hasSignature(), other.signature_);
          timestamp_ = visitor.visitLong(
              hasTimestamp(), timestamp_,
              other.hasTimestamp(), other.timestamp_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 8: {
                  bitField0_ |= 0x00000001;
                  id_ = input.readUInt32();
                  break;
                }
                case 18: {
                  bitField0_ |= 0x00000002;
                  publicKey_ = input.readBytes();
                  break;
                }
                case 26: {
                  bitField0_ |= 0x00000004;
                  privateKey_ = input.readBytes();
                  break;
                }
                case 34: {
                  bitField0_ |= 0x00000008;
                  signature_ = input.readBytes();
                  break;
                }
                case 41: {
                  bitField0_ |= 0x00000010;
                  timestamp_ = input.readFixed64();
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.SignedPreKeyRecordStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new SignedPreKeyRecordStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SignedPreKeyRecordStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<SignedPreKeyRecordStructure> PARSER;

    public static com.google.protobuf.Parser<SignedPreKeyRecordStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface IdentityKeyPairStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.IdentityKeyPairStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    boolean hasPublicKey();
    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    com.google.protobuf.ByteString getPublicKey();

    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    boolean hasPrivateKey();
    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    com.google.protobuf.ByteString getPrivateKey();
  }
  /**
   * Protobuf type {@code textsecure.IdentityKeyPairStructure}
   */
  public  static final class IdentityKeyPairStructure extends
      com.google.protobuf.GeneratedMessageLite<
          IdentityKeyPairStructure, IdentityKeyPairStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.IdentityKeyPairStructure)
      IdentityKeyPairStructureOrBuilder {
    private IdentityKeyPairStructure() {
      publicKey_ = com.google.protobuf.ByteString.EMPTY;
      privateKey_ = com.google.protobuf.ByteString.EMPTY;
    }
    private int bitField0_;
    public static final int PUBLICKEY_FIELD_NUMBER = 1;
    private com.google.protobuf.ByteString publicKey_;
    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    public boolean hasPublicKey() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    public com.google.protobuf.ByteString getPublicKey() {
      return publicKey_;
    }
    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    private void setPublicKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
      publicKey_ = value;
    }
    /**
     * <code>optional bytes publicKey = 1;</code>
     */
    private void clearPublicKey() {
      bitField0_ = (bitField0_ & ~0x00000001);
      publicKey_ = getDefaultInstance().getPublicKey();
    }

    public static final int PRIVATEKEY_FIELD_NUMBER = 2;
    private com.google.protobuf.ByteString privateKey_;
    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    public boolean hasPrivateKey() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    public com.google.protobuf.ByteString getPrivateKey() {
      return privateKey_;
    }
    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    private void setPrivateKey(com.google.protobuf.ByteString value) {
      if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
      privateKey_ = value;
    }
    /**
     * <code>optional bytes privateKey = 2;</code>
     */
    private void clearPrivateKey() {
      bitField0_ = (bitField0_ & ~0x00000002);
      privateKey_ = getDefaultInstance().getPrivateKey();
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, publicKey_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(2, privateKey_);
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, publicKey_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, privateKey_);
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.IdentityKeyPairStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.IdentityKeyPairStructure)
        org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional bytes publicKey = 1;</code>
       */
      public boolean hasPublicKey() {
        return instance.hasPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 1;</code>
       */
      public com.google.protobuf.ByteString getPublicKey() {
        return instance.getPublicKey();
      }
      /**
       * <code>optional bytes publicKey = 1;</code>
       */
      public Builder setPublicKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPublicKey(value);
        return this;
      }
      /**
       * <code>optional bytes publicKey = 1;</code>
       */
      public Builder clearPublicKey() {
        copyOnWrite();
        instance.clearPublicKey();
        return this;
      }

      /**
       * <code>optional bytes privateKey = 2;</code>
       */
      public boolean hasPrivateKey() {
        return instance.hasPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 2;</code>
       */
      public com.google.protobuf.ByteString getPrivateKey() {
        return instance.getPrivateKey();
      }
      /**
       * <code>optional bytes privateKey = 2;</code>
       */
      public Builder setPrivateKey(com.google.protobuf.ByteString value) {
        copyOnWrite();
        instance.setPrivateKey(value);
        return this;
      }
      /**
       * <code>optional bytes privateKey = 2;</code>
       */
      public Builder clearPrivateKey() {
        copyOnWrite();
        instance.clearPrivateKey();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.IdentityKeyPairStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure other = (org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure) arg1;
          publicKey_ = visitor.visitByteString(
              hasPublicKey(), publicKey_,
              other.hasPublicKey(), other.publicKey_);
          privateKey_ = visitor.visitByteString(
              hasPrivateKey(), privateKey_,
              other.hasPrivateKey(), other.privateKey_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 10: {
                  bitField0_ |= 0x00000001;
                  publicKey_ = input.readBytes();
                  break;
                }
                case 18: {
                  bitField0_ |= 0x00000002;
                  privateKey_ = input.readBytes();
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.IdentityKeyPairStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new IdentityKeyPairStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.IdentityKeyPairStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<IdentityKeyPairStructure> PARSER;

    public static com.google.protobuf.Parser<IdentityKeyPairStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface SenderKeyStateStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.SenderKeyStateStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    boolean hasSenderKeyId();
    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    int getSenderKeyId();

    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    boolean hasSenderChainKey();
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey getSenderChainKey();

    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    boolean hasSenderSigningKey();
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey getSenderSigningKey();

    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> 
        getSenderMessageKeysList();
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey getSenderMessageKeys(int index);
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    int getSenderMessageKeysCount();
  }
  /**
   * Protobuf type {@code textsecure.SenderKeyStateStructure}
   */
  public  static final class SenderKeyStateStructure extends
      com.google.protobuf.GeneratedMessageLite<
          SenderKeyStateStructure, SenderKeyStateStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.SenderKeyStateStructure)
      SenderKeyStateStructureOrBuilder {
    private SenderKeyStateStructure() {
      senderMessageKeys_ = emptyProtobufList();
    }
    public interface SenderChainKeyOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SenderKeyStateStructure.SenderChainKey)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      boolean hasIteration();
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      int getIteration();

      /**
       * <code>optional bytes seed = 2;</code>
       */
      boolean hasSeed();
      /**
       * <code>optional bytes seed = 2;</code>
       */
      com.google.protobuf.ByteString getSeed();
    }
    /**
     * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderChainKey}
     */
    public  static final class SenderChainKey extends
        com.google.protobuf.GeneratedMessageLite<
            SenderChainKey, SenderChainKey.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SenderKeyStateStructure.SenderChainKey)
        SenderChainKeyOrBuilder {
      private SenderChainKey() {
        seed_ = com.google.protobuf.ByteString.EMPTY;
      }
      private int bitField0_;
      public static final int ITERATION_FIELD_NUMBER = 1;
      private int iteration_;
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      public boolean hasIteration() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      public int getIteration() {
        return iteration_;
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      private void setIteration(int value) {
        bitField0_ |= 0x00000001;
        iteration_ = value;
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      private void clearIteration() {
        bitField0_ = (bitField0_ & ~0x00000001);
        iteration_ = 0;
      }

      public static final int SEED_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString seed_;
      /**
       * <code>optional bytes seed = 2;</code>
       */
      public boolean hasSeed() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      public com.google.protobuf.ByteString getSeed() {
        return seed_;
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      private void setSeed(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        seed_ = value;
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      private void clearSeed() {
        bitField0_ = (bitField0_ & ~0x00000002);
        seed_ = getDefaultInstance().getSeed();
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeUInt32(1, iteration_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeBytes(2, seed_);
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeUInt32Size(1, iteration_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, seed_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderChainKey}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SenderKeyStateStructure.SenderChainKey)
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKeyOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public boolean hasIteration() {
          return instance.hasIteration();
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public int getIteration() {
          return instance.getIteration();
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public Builder setIteration(int value) {
          copyOnWrite();
          instance.setIteration(value);
          return this;
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public Builder clearIteration() {
          copyOnWrite();
          instance.clearIteration();
          return this;
        }

        /**
         * <code>optional bytes seed = 2;</code>
         */
        public boolean hasSeed() {
          return instance.hasSeed();
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public com.google.protobuf.ByteString getSeed() {
          return instance.getSeed();
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public Builder setSeed(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setSeed(value);
          return this;
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public Builder clearSeed() {
          copyOnWrite();
          instance.clearSeed();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SenderKeyStateStructure.SenderChainKey)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey other = (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey) arg1;
            iteration_ = visitor.visitInt(
                hasIteration(), iteration_,
                other.hasIteration(), other.iteration_);
            seed_ = visitor.visitByteString(
                hasSeed(), seed_,
                other.hasSeed(), other.seed_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 8: {
                    bitField0_ |= 0x00000001;
                    iteration_ = input.readUInt32();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000002;
                    seed_ = input.readBytes();
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SenderKeyStateStructure.SenderChainKey)
      private static final org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new SenderChainKey();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<SenderChainKey> PARSER;

      public static com.google.protobuf.Parser<SenderChainKey> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    public interface SenderMessageKeyOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SenderKeyStateStructure.SenderMessageKey)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      boolean hasIteration();
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      int getIteration();

      /**
       * <code>optional bytes seed = 2;</code>
       */
      boolean hasSeed();
      /**
       * <code>optional bytes seed = 2;</code>
       */
      com.google.protobuf.ByteString getSeed();
    }
    /**
     * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderMessageKey}
     */
    public  static final class SenderMessageKey extends
        com.google.protobuf.GeneratedMessageLite<
            SenderMessageKey, SenderMessageKey.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SenderKeyStateStructure.SenderMessageKey)
        SenderMessageKeyOrBuilder {
      private SenderMessageKey() {
        seed_ = com.google.protobuf.ByteString.EMPTY;
      }
      private int bitField0_;
      public static final int ITERATION_FIELD_NUMBER = 1;
      private int iteration_;
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      public boolean hasIteration() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      public int getIteration() {
        return iteration_;
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      private void setIteration(int value) {
        bitField0_ |= 0x00000001;
        iteration_ = value;
      }
      /**
       * <code>optional uint32 iteration = 1;</code>
       */
      private void clearIteration() {
        bitField0_ = (bitField0_ & ~0x00000001);
        iteration_ = 0;
      }

      public static final int SEED_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString seed_;
      /**
       * <code>optional bytes seed = 2;</code>
       */
      public boolean hasSeed() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      public com.google.protobuf.ByteString getSeed() {
        return seed_;
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      private void setSeed(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        seed_ = value;
      }
      /**
       * <code>optional bytes seed = 2;</code>
       */
      private void clearSeed() {
        bitField0_ = (bitField0_ & ~0x00000002);
        seed_ = getDefaultInstance().getSeed();
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeUInt32(1, iteration_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeBytes(2, seed_);
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeUInt32Size(1, iteration_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, seed_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderMessageKey}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SenderKeyStateStructure.SenderMessageKey)
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKeyOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public boolean hasIteration() {
          return instance.hasIteration();
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public int getIteration() {
          return instance.getIteration();
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public Builder setIteration(int value) {
          copyOnWrite();
          instance.setIteration(value);
          return this;
        }
        /**
         * <code>optional uint32 iteration = 1;</code>
         */
        public Builder clearIteration() {
          copyOnWrite();
          instance.clearIteration();
          return this;
        }

        /**
         * <code>optional bytes seed = 2;</code>
         */
        public boolean hasSeed() {
          return instance.hasSeed();
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public com.google.protobuf.ByteString getSeed() {
          return instance.getSeed();
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public Builder setSeed(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setSeed(value);
          return this;
        }
        /**
         * <code>optional bytes seed = 2;</code>
         */
        public Builder clearSeed() {
          copyOnWrite();
          instance.clearSeed();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SenderKeyStateStructure.SenderMessageKey)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey other = (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey) arg1;
            iteration_ = visitor.visitInt(
                hasIteration(), iteration_,
                other.hasIteration(), other.iteration_);
            seed_ = visitor.visitByteString(
                hasSeed(), seed_,
                other.hasSeed(), other.seed_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 8: {
                    bitField0_ |= 0x00000001;
                    iteration_ = input.readUInt32();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000002;
                    seed_ = input.readBytes();
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SenderKeyStateStructure.SenderMessageKey)
      private static final org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new SenderMessageKey();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<SenderMessageKey> PARSER;

      public static com.google.protobuf.Parser<SenderMessageKey> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    public interface SenderSigningKeyOrBuilder extends
        // @@protoc_insertion_point(interface_extends:textsecure.SenderKeyStateStructure.SenderSigningKey)
        com.google.protobuf.MessageLiteOrBuilder {

      /**
       * <code>optional bytes public = 1;</code>
       */
      boolean hasPublic();
      /**
       * <code>optional bytes public = 1;</code>
       */
      com.google.protobuf.ByteString getPublic();

      /**
       * <code>optional bytes private = 2;</code>
       */
      boolean hasPrivate();
      /**
       * <code>optional bytes private = 2;</code>
       */
      com.google.protobuf.ByteString getPrivate();
    }
    /**
     * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderSigningKey}
     */
    public  static final class SenderSigningKey extends
        com.google.protobuf.GeneratedMessageLite<
            SenderSigningKey, SenderSigningKey.Builder> implements
        // @@protoc_insertion_point(message_implements:textsecure.SenderKeyStateStructure.SenderSigningKey)
        SenderSigningKeyOrBuilder {
      private SenderSigningKey() {
        public_ = com.google.protobuf.ByteString.EMPTY;
        private_ = com.google.protobuf.ByteString.EMPTY;
      }
      private int bitField0_;
      public static final int PUBLIC_FIELD_NUMBER = 1;
      private com.google.protobuf.ByteString public_;
      /**
       * <code>optional bytes public = 1;</code>
       */
      public boolean hasPublic() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional bytes public = 1;</code>
       */
      public com.google.protobuf.ByteString getPublic() {
        return public_;
      }
      /**
       * <code>optional bytes public = 1;</code>
       */
      private void setPublic(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        public_ = value;
      }
      /**
       * <code>optional bytes public = 1;</code>
       */
      private void clearPublic() {
        bitField0_ = (bitField0_ & ~0x00000001);
        public_ = getDefaultInstance().getPublic();
      }

      public static final int PRIVATE_FIELD_NUMBER = 2;
      private com.google.protobuf.ByteString private_;
      /**
       * <code>optional bytes private = 2;</code>
       */
      public boolean hasPrivate() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional bytes private = 2;</code>
       */
      public com.google.protobuf.ByteString getPrivate() {
        return private_;
      }
      /**
       * <code>optional bytes private = 2;</code>
       */
      private void setPrivate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        private_ = value;
      }
      /**
       * <code>optional bytes private = 2;</code>
       */
      private void clearPrivate() {
        bitField0_ = (bitField0_ & ~0x00000002);
        private_ = getDefaultInstance().getPrivate();
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeBytes(1, public_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeBytes(2, private_);
        }
        unknownFields.writeTo(output);
      }

      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(1, public_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(2, private_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, data, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input);
      }
      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageLite.parseFrom(
            DEFAULT_INSTANCE, input, extensionRegistry);
      }

      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }

      /**
       * Protobuf type {@code textsecure.SenderKeyStateStructure.SenderSigningKey}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageLite.Builder<
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey, Builder> implements
          // @@protoc_insertion_point(builder_implements:textsecure.SenderKeyStateStructure.SenderSigningKey)
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKeyOrBuilder {
        // Construct using org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.newBuilder()
        private Builder() {
          super(DEFAULT_INSTANCE);
        }


        /**
         * <code>optional bytes public = 1;</code>
         */
        public boolean hasPublic() {
          return instance.hasPublic();
        }
        /**
         * <code>optional bytes public = 1;</code>
         */
        public com.google.protobuf.ByteString getPublic() {
          return instance.getPublic();
        }
        /**
         * <code>optional bytes public = 1;</code>
         */
        public Builder setPublic(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setPublic(value);
          return this;
        }
        /**
         * <code>optional bytes public = 1;</code>
         */
        public Builder clearPublic() {
          copyOnWrite();
          instance.clearPublic();
          return this;
        }

        /**
         * <code>optional bytes private = 2;</code>
         */
        public boolean hasPrivate() {
          return instance.hasPrivate();
        }
        /**
         * <code>optional bytes private = 2;</code>
         */
        public com.google.protobuf.ByteString getPrivate() {
          return instance.getPrivate();
        }
        /**
         * <code>optional bytes private = 2;</code>
         */
        public Builder setPrivate(com.google.protobuf.ByteString value) {
          copyOnWrite();
          instance.setPrivate(value);
          return this;
        }
        /**
         * <code>optional bytes private = 2;</code>
         */
        public Builder clearPrivate() {
          copyOnWrite();
          instance.clearPrivate();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:textsecure.SenderKeyStateStructure.SenderSigningKey)
      }
      protected final Object dynamicMethod(
          com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
          Object arg0, Object arg1) {
        switch (method) {
          case NEW_MUTABLE_INSTANCE: {
            return new org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey();
          }
          case IS_INITIALIZED: {
            return DEFAULT_INSTANCE;
          }
          case MAKE_IMMUTABLE: {
            return null;
          }
          case NEW_BUILDER: {
            return new Builder();
          }
          case VISIT: {
            Visitor visitor = (Visitor) arg0;
            org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey other = (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey) arg1;
            public_ = visitor.visitByteString(
                hasPublic(), public_,
                other.hasPublic(), other.public_);
            private_ = visitor.visitByteString(
                hasPrivate(), private_,
                other.hasPrivate(), other.private_);
            if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
                .INSTANCE) {
              bitField0_ |= other.bitField0_;
            }
            return this;
          }
          case MERGE_FROM_STREAM: {
            com.google.protobuf.CodedInputStream input =
                (com.google.protobuf.CodedInputStream) arg0;
            com.google.protobuf.ExtensionRegistryLite extensionRegistry =
                (com.google.protobuf.ExtensionRegistryLite) arg1;
            try {
              boolean done = false;
              while (!done) {
                int tag = input.readTag();
                switch (tag) {
                  case 0:
                    done = true;
                    break;
                  default: {
                    if (!parseUnknownField(tag, input)) {
                      done = true;
                    }
                    break;
                  }
                  case 10: {
                    bitField0_ |= 0x00000001;
                    public_ = input.readBytes();
                    break;
                  }
                  case 18: {
                    bitField0_ |= 0x00000002;
                    private_ = input.readBytes();
                    break;
                  }
                }
              }
            } catch (com.google.protobuf.InvalidProtocolBufferException e) {
              throw new RuntimeException(e.setUnfinishedMessage(this));
            } catch (java.io.IOException e) {
              throw new RuntimeException(
                  new com.google.protobuf.InvalidProtocolBufferException(
                      e.getMessage()).setUnfinishedMessage(this));
            } finally {
            }
          }
          case GET_DEFAULT_INSTANCE: {
            return DEFAULT_INSTANCE;
          }
          case GET_PARSER: {
            if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.class) {
                if (PARSER == null) {
                  PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
                }
              }
            }
            return PARSER;
          }
        }
        throw new UnsupportedOperationException();
      }


      // @@protoc_insertion_point(class_scope:textsecure.SenderKeyStateStructure.SenderSigningKey)
      private static final org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new SenderSigningKey();
        DEFAULT_INSTANCE.makeImmutable();
      }

      public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static volatile com.google.protobuf.Parser<SenderSigningKey> PARSER;

      public static com.google.protobuf.Parser<SenderSigningKey> parser() {
        return DEFAULT_INSTANCE.getParserForType();
      }
    }

    private int bitField0_;
    public static final int SENDERKEYID_FIELD_NUMBER = 1;
    private int senderKeyId_;
    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    public boolean hasSenderKeyId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    public int getSenderKeyId() {
      return senderKeyId_;
    }
    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    private void setSenderKeyId(int value) {
      bitField0_ |= 0x00000001;
      senderKeyId_ = value;
    }
    /**
     * <code>optional uint32 senderKeyId = 1;</code>
     */
    private void clearSenderKeyId() {
      bitField0_ = (bitField0_ & ~0x00000001);
      senderKeyId_ = 0;
    }

    public static final int SENDERCHAINKEY_FIELD_NUMBER = 2;
    private org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey senderChainKey_;
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    public boolean hasSenderChainKey() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey getSenderChainKey() {
      return senderChainKey_ == null ? org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.getDefaultInstance() : senderChainKey_;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    private void setSenderChainKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      senderChainKey_ = value;
      bitField0_ |= 0x00000002;
      }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    private void setSenderChainKey(
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.Builder builderForValue) {
      senderChainKey_ = builderForValue.build();
      bitField0_ |= 0x00000002;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    private void mergeSenderChainKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey value) {
      if (senderChainKey_ != null &&
          senderChainKey_ != org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.getDefaultInstance()) {
        senderChainKey_ =
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.newBuilder(senderChainKey_).mergeFrom(value).buildPartial();
      } else {
        senderChainKey_ = value;
      }
      bitField0_ |= 0x00000002;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
     */
    private void clearSenderChainKey() {  senderChainKey_ = null;
      bitField0_ = (bitField0_ & ~0x00000002);
    }

    public static final int SENDERSIGNINGKEY_FIELD_NUMBER = 3;
    private org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey senderSigningKey_;
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    public boolean hasSenderSigningKey() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey getSenderSigningKey() {
      return senderSigningKey_ == null ? org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.getDefaultInstance() : senderSigningKey_;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    private void setSenderSigningKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      senderSigningKey_ = value;
      bitField0_ |= 0x00000004;
      }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    private void setSenderSigningKey(
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.Builder builderForValue) {
      senderSigningKey_ = builderForValue.build();
      bitField0_ |= 0x00000004;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    private void mergeSenderSigningKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey value) {
      if (senderSigningKey_ != null &&
          senderSigningKey_ != org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.getDefaultInstance()) {
        senderSigningKey_ =
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.newBuilder(senderSigningKey_).mergeFrom(value).buildPartial();
      } else {
        senderSigningKey_ = value;
      }
      bitField0_ |= 0x00000004;
    }
    /**
     * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
     */
    private void clearSenderSigningKey() {  senderSigningKey_ = null;
      bitField0_ = (bitField0_ & ~0x00000004);
    }

    public static final int SENDERMESSAGEKEYS_FIELD_NUMBER = 4;
    private com.google.protobuf.Internal.ProtobufList<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> senderMessageKeys_;
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> getSenderMessageKeysList() {
      return senderMessageKeys_;
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    public java.util.List<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKeyOrBuilder> 
        getSenderMessageKeysOrBuilderList() {
      return senderMessageKeys_;
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    public int getSenderMessageKeysCount() {
      return senderMessageKeys_.size();
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey getSenderMessageKeys(int index) {
      return senderMessageKeys_.get(index);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKeyOrBuilder getSenderMessageKeysOrBuilder(
        int index) {
      return senderMessageKeys_.get(index);
    }
    private void ensureSenderMessageKeysIsMutable() {
      if (!senderMessageKeys_.isModifiable()) {
        senderMessageKeys_ =
            com.google.protobuf.GeneratedMessageLite.mutableCopy(senderMessageKeys_);
       }
    }

    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void setSenderMessageKeys(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.set(index, value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void setSenderMessageKeys(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.set(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void addSenderMessageKeys(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.add(value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void addSenderMessageKeys(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.add(index, value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void addSenderMessageKeys(
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.add(builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void addSenderMessageKeys(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.add(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void addAllSenderMessageKeys(
        java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> values) {
      ensureSenderMessageKeysIsMutable();
      com.google.protobuf.AbstractMessageLite.addAll(
          values, senderMessageKeys_);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void clearSenderMessageKeys() {
      senderMessageKeys_ = emptyProtobufList();
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
     */
    private void removeSenderMessageKeys(int index) {
      ensureSenderMessageKeysIsMutable();
      senderMessageKeys_.remove(index);
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeUInt32(1, senderKeyId_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeMessage(2, getSenderChainKey());
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeMessage(3, getSenderSigningKey());
      }
      for (int i = 0; i < senderMessageKeys_.size(); i++) {
        output.writeMessage(4, senderMessageKeys_.get(i));
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeUInt32Size(1, senderKeyId_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, getSenderChainKey());
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, getSenderSigningKey());
      }
      for (int i = 0; i < senderMessageKeys_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, senderMessageKeys_.get(i));
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.SenderKeyStateStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.SenderKeyStateStructure)
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>optional uint32 senderKeyId = 1;</code>
       */
      public boolean hasSenderKeyId() {
        return instance.hasSenderKeyId();
      }
      /**
       * <code>optional uint32 senderKeyId = 1;</code>
       */
      public int getSenderKeyId() {
        return instance.getSenderKeyId();
      }
      /**
       * <code>optional uint32 senderKeyId = 1;</code>
       */
      public Builder setSenderKeyId(int value) {
        copyOnWrite();
        instance.setSenderKeyId(value);
        return this;
      }
      /**
       * <code>optional uint32 senderKeyId = 1;</code>
       */
      public Builder clearSenderKeyId() {
        copyOnWrite();
        instance.clearSenderKeyId();
        return this;
      }

      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public boolean hasSenderChainKey() {
        return instance.hasSenderChainKey();
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey getSenderChainKey() {
        return instance.getSenderChainKey();
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public Builder setSenderChainKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey value) {
        copyOnWrite();
        instance.setSenderChainKey(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public Builder setSenderChainKey(
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.Builder builderForValue) {
        copyOnWrite();
        instance.setSenderChainKey(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public Builder mergeSenderChainKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey value) {
        copyOnWrite();
        instance.mergeSenderChainKey(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderChainKey senderChainKey = 2;</code>
       */
      public Builder clearSenderChainKey() {  copyOnWrite();
        instance.clearSenderChainKey();
        return this;
      }

      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public boolean hasSenderSigningKey() {
        return instance.hasSenderSigningKey();
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey getSenderSigningKey() {
        return instance.getSenderSigningKey();
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public Builder setSenderSigningKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey value) {
        copyOnWrite();
        instance.setSenderSigningKey(value);
        return this;
        }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public Builder setSenderSigningKey(
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.Builder builderForValue) {
        copyOnWrite();
        instance.setSenderSigningKey(builderForValue);
        return this;
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public Builder mergeSenderSigningKey(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey value) {
        copyOnWrite();
        instance.mergeSenderSigningKey(value);
        return this;
      }
      /**
       * <code>optional .textsecure.SenderKeyStateStructure.SenderSigningKey senderSigningKey = 3;</code>
       */
      public Builder clearSenderSigningKey() {  copyOnWrite();
        instance.clearSenderSigningKey();
        return this;
      }

      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> getSenderMessageKeysList() {
        return java.util.Collections.unmodifiableList(
            instance.getSenderMessageKeysList());
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public int getSenderMessageKeysCount() {
        return instance.getSenderMessageKeysCount();
      }/**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey getSenderMessageKeys(int index) {
        return instance.getSenderMessageKeys(index);
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder setSenderMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
        copyOnWrite();
        instance.setSenderMessageKeys(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder setSenderMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
        copyOnWrite();
        instance.setSenderMessageKeys(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder addSenderMessageKeys(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
        copyOnWrite();
        instance.addSenderMessageKeys(value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder addSenderMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey value) {
        copyOnWrite();
        instance.addSenderMessageKeys(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder addSenderMessageKeys(
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
        copyOnWrite();
        instance.addSenderMessageKeys(builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder addSenderMessageKeys(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.Builder builderForValue) {
        copyOnWrite();
        instance.addSenderMessageKeys(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder addAllSenderMessageKeys(
          java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey> values) {
        copyOnWrite();
        instance.addAllSenderMessageKeys(values);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder clearSenderMessageKeys() {
        copyOnWrite();
        instance.clearSenderMessageKeys();
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure.SenderMessageKey senderMessageKeys = 4;</code>
       */
      public Builder removeSenderMessageKeys(int index) {
        copyOnWrite();
        instance.removeSenderMessageKeys(index);
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.SenderKeyStateStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          senderMessageKeys_.makeImmutable();
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure other = (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure) arg1;
          senderKeyId_ = visitor.visitInt(
              hasSenderKeyId(), senderKeyId_,
              other.hasSenderKeyId(), other.senderKeyId_);
          senderChainKey_ = visitor.visitMessage(senderChainKey_, other.senderChainKey_);
          senderSigningKey_ = visitor.visitMessage(senderSigningKey_, other.senderSigningKey_);
          senderMessageKeys_= visitor.visitList(senderMessageKeys_, other.senderMessageKeys_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
            bitField0_ |= other.bitField0_;
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 8: {
                  bitField0_ |= 0x00000001;
                  senderKeyId_ = input.readUInt32();
                  break;
                }
                case 18: {
                  org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000002) == 0x00000002)) {
                    subBuilder = senderChainKey_.toBuilder();
                  }
                  senderChainKey_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderChainKey.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(senderChainKey_);
                    senderChainKey_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000002;
                  break;
                }
                case 26: {
                  org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.Builder subBuilder = null;
                  if (((bitField0_ & 0x00000004) == 0x00000004)) {
                    subBuilder = senderSigningKey_.toBuilder();
                  }
                  senderSigningKey_ = input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderSigningKey.parser(), extensionRegistry);
                  if (subBuilder != null) {
                    subBuilder.mergeFrom(senderSigningKey_);
                    senderSigningKey_ = subBuilder.buildPartial();
                  }
                  bitField0_ |= 0x00000004;
                  break;
                }
                case 34: {
                  if (!senderMessageKeys_.isModifiable()) {
                    senderMessageKeys_ =
                        com.google.protobuf.GeneratedMessageLite.mutableCopy(senderMessageKeys_);
                  }
                  senderMessageKeys_.add(
                      input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.SenderMessageKey.parser(), extensionRegistry));
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.SenderKeyStateStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new SenderKeyStateStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<SenderKeyStateStructure> PARSER;

    public static com.google.protobuf.Parser<SenderKeyStateStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }

  public interface SenderKeyRecordStructureOrBuilder extends
      // @@protoc_insertion_point(interface_extends:textsecure.SenderKeyRecordStructure)
      com.google.protobuf.MessageLiteOrBuilder {

    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> 
        getSenderKeyStatesList();
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure getSenderKeyStates(int index);
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    int getSenderKeyStatesCount();
  }
  /**
   * Protobuf type {@code textsecure.SenderKeyRecordStructure}
   */
  public  static final class SenderKeyRecordStructure extends
      com.google.protobuf.GeneratedMessageLite<
          SenderKeyRecordStructure, SenderKeyRecordStructure.Builder> implements
      // @@protoc_insertion_point(message_implements:textsecure.SenderKeyRecordStructure)
      SenderKeyRecordStructureOrBuilder {
    private SenderKeyRecordStructure() {
      senderKeyStates_ = emptyProtobufList();
    }
    public static final int SENDERKEYSTATES_FIELD_NUMBER = 1;
    private com.google.protobuf.Internal.ProtobufList<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> senderKeyStates_;
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> getSenderKeyStatesList() {
      return senderKeyStates_;
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    public java.util.List<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructureOrBuilder> 
        getSenderKeyStatesOrBuilderList() {
      return senderKeyStates_;
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    public int getSenderKeyStatesCount() {
      return senderKeyStates_.size();
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure getSenderKeyStates(int index) {
      return senderKeyStates_.get(index);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructureOrBuilder getSenderKeyStatesOrBuilder(
        int index) {
      return senderKeyStates_.get(index);
    }
    private void ensureSenderKeyStatesIsMutable() {
      if (!senderKeyStates_.isModifiable()) {
        senderKeyStates_ =
            com.google.protobuf.GeneratedMessageLite.mutableCopy(senderKeyStates_);
       }
    }

    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void setSenderKeyStates(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.set(index, value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void setSenderKeyStates(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.set(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void addSenderKeyStates(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.add(value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void addSenderKeyStates(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
      if (value == null) {
        throw new NullPointerException();
      }
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.add(index, value);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void addSenderKeyStates(
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.add(builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void addSenderKeyStates(
        int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.add(index, builderForValue.build());
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void addAllSenderKeyStates(
        java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> values) {
      ensureSenderKeyStatesIsMutable();
      com.google.protobuf.AbstractMessageLite.addAll(
          values, senderKeyStates_);
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void clearSenderKeyStates() {
      senderKeyStates_ = emptyProtobufList();
    }
    /**
     * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
     */
    private void removeSenderKeyStates(int index) {
      ensureSenderKeyStatesIsMutable();
      senderKeyStates_.remove(index);
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      for (int i = 0; i < senderKeyStates_.size(); i++) {
        output.writeMessage(1, senderKeyStates_.get(i));
      }
      unknownFields.writeTo(output);
    }

    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      for (int i = 0; i < senderKeyStates_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, senderKeyStates_.get(i));
      }
      size += unknownFields.getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, data, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return parseDelimitedFrom(DEFAULT_INSTANCE, input, extensionRegistry);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input);
    }
    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageLite.parseFrom(
          DEFAULT_INSTANCE, input, extensionRegistry);
    }

    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }

    /**
     * Protobuf type {@code textsecure.SenderKeyRecordStructure}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageLite.Builder<
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure, Builder> implements
        // @@protoc_insertion_point(builder_implements:textsecure.SenderKeyRecordStructure)
        org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructureOrBuilder {
      // Construct using org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure.newBuilder()
      private Builder() {
        super(DEFAULT_INSTANCE);
      }


      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public java.util.List<org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> getSenderKeyStatesList() {
        return java.util.Collections.unmodifiableList(
            instance.getSenderKeyStatesList());
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public int getSenderKeyStatesCount() {
        return instance.getSenderKeyStatesCount();
      }/**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure getSenderKeyStates(int index) {
        return instance.getSenderKeyStates(index);
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder setSenderKeyStates(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
        copyOnWrite();
        instance.setSenderKeyStates(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder setSenderKeyStates(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
        copyOnWrite();
        instance.setSenderKeyStates(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder addSenderKeyStates(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
        copyOnWrite();
        instance.addSenderKeyStates(value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder addSenderKeyStates(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure value) {
        copyOnWrite();
        instance.addSenderKeyStates(index, value);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder addSenderKeyStates(
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
        copyOnWrite();
        instance.addSenderKeyStates(builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder addSenderKeyStates(
          int index, org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.Builder builderForValue) {
        copyOnWrite();
        instance.addSenderKeyStates(index, builderForValue);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder addAllSenderKeyStates(
          java.lang.Iterable<? extends org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure> values) {
        copyOnWrite();
        instance.addAllSenderKeyStates(values);
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder clearSenderKeyStates() {
        copyOnWrite();
        instance.clearSenderKeyStates();
        return this;
      }
      /**
       * <code>repeated .textsecure.SenderKeyStateStructure senderKeyStates = 1;</code>
       */
      public Builder removeSenderKeyStates(int index) {
        copyOnWrite();
        instance.removeSenderKeyStates(index);
        return this;
      }

      // @@protoc_insertion_point(builder_scope:textsecure.SenderKeyRecordStructure)
    }
    protected final Object dynamicMethod(
        com.google.protobuf.GeneratedMessageLite.MethodToInvoke method,
        Object arg0, Object arg1) {
      switch (method) {
        case NEW_MUTABLE_INSTANCE: {
          return new org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure();
        }
        case IS_INITIALIZED: {
          return DEFAULT_INSTANCE;
        }
        case MAKE_IMMUTABLE: {
          senderKeyStates_.makeImmutable();
          return null;
        }
        case NEW_BUILDER: {
          return new Builder();
        }
        case VISIT: {
          Visitor visitor = (Visitor) arg0;
          org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure other = (org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure) arg1;
          senderKeyStates_= visitor.visitList(senderKeyStates_, other.senderKeyStates_);
          if (visitor == com.google.protobuf.GeneratedMessageLite.MergeFromVisitor
              .INSTANCE) {
          }
          return this;
        }
        case MERGE_FROM_STREAM: {
          com.google.protobuf.CodedInputStream input =
              (com.google.protobuf.CodedInputStream) arg0;
          com.google.protobuf.ExtensionRegistryLite extensionRegistry =
              (com.google.protobuf.ExtensionRegistryLite) arg1;
          try {
            boolean done = false;
            while (!done) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  done = true;
                  break;
                default: {
                  if (!parseUnknownField(tag, input)) {
                    done = true;
                  }
                  break;
                }
                case 10: {
                  if (!senderKeyStates_.isModifiable()) {
                    senderKeyStates_ =
                        com.google.protobuf.GeneratedMessageLite.mutableCopy(senderKeyStates_);
                  }
                  senderKeyStates_.add(
                      input.readMessage(org.whispersystems.libsignal.state.StorageProtos.SenderKeyStateStructure.parser(), extensionRegistry));
                  break;
                }
              }
            }
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            throw new RuntimeException(e.setUnfinishedMessage(this));
          } catch (java.io.IOException e) {
            throw new RuntimeException(
                new com.google.protobuf.InvalidProtocolBufferException(
                    e.getMessage()).setUnfinishedMessage(this));
          } finally {
          }
        }
        case GET_DEFAULT_INSTANCE: {
          return DEFAULT_INSTANCE;
        }
        case GET_PARSER: {
          if (PARSER == null) {    synchronized (org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure.class) {
              if (PARSER == null) {
                PARSER = new DefaultInstanceBasedParser(DEFAULT_INSTANCE);
              }
            }
          }
          return PARSER;
        }
      }
      throw new UnsupportedOperationException();
    }


    // @@protoc_insertion_point(class_scope:textsecure.SenderKeyRecordStructure)
    private static final org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new SenderKeyRecordStructure();
      DEFAULT_INSTANCE.makeImmutable();
    }

    public static org.whispersystems.libsignal.state.StorageProtos.SenderKeyRecordStructure getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static volatile com.google.protobuf.Parser<SenderKeyRecordStructure> PARSER;

    public static com.google.protobuf.Parser<SenderKeyRecordStructure> parser() {
      return DEFAULT_INSTANCE.getParserForType();
    }
  }


  static {
  }

  // @@protoc_insertion_point(outer_class_scope)
}
